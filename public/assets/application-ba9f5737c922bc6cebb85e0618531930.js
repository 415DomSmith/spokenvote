+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,s=this;e(this).one(e.support.transition.end,function(){n=!0});var o=function(){n||e(s).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t=function(n,s){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,s),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var s=n.data("bs.collapse");if(s&&s.transitioning)return;n.collapse("hide"),s||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var i=function(t){return t&&t.target!=this.$element[0]?void this.$element.one(e.support.transition.end,e.proxy(i,this)):(this.$element.removeClass("collapsing").addClass("collapse in")[o]("auto"),this.transitioning=0,void this.$element.trigger("shown.bs.collapse"))};if(!e.support.transition)return i.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var s=function(t){return t&&t.target!=this.$element[0]?void this.$element.one(e.support.transition.end,e.proxy(s,this)):(this.transitioning=0,void this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse"))};return e.support.transition?void this.$element[n](0).one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350):s.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var s=e(this),o=s.data("bs.collapse"),i=e.extend({},t.DEFAULTS,s.data(),"object"==typeof n&&n);!o&&i.toggle&&"show"==n&&(n=!n),o||s.data("bs.collapse",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var n,s=e(this),o=s.attr("data-target")||t.preventDefault()||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),i=e(o),a=i.data("bs.collapse"),r=a?"toggle":s.data(),l=s.attr("data-parent"),c=l&&e(l);a&&a.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+l+'"]').not(s).addClass("collapsed"),s[i.hasClass("in")?"addClass":"removeClass"]("collapsed")),i.collapse(r)})}(jQuery),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,s,o){var i={};o.uiAnimate&&(i=e.$eval(o.uiAnimate),angular.isString(i)&&(i={"class":i})),i=angular.extend({"class":"ui-animate"},n,i),s.addClass(i["class"]),t(function(){s.removeClass(i["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(t,n,s){function o(){t.calendar=n.html("");var o=t.calendar.fullCalendar("getView");o&&(o=o.name);var a,r={defaultView:o,eventSources:i};a=s.uiCalendar?t.$eval(s.uiCalendar):{},angular.extend(r,e.uiCalendar,a),t.calendar.fullCalendar(r)}var i=t.$eval(s.ngModel),a=0,r=function(){var e=t.$eval(s.equalsTracker);return a=0,angular.forEach(i,function(e){angular.isArray(e)&&(a+=e.length)}),angular.isNumber(e)?a+i.length+e:a+i.length};o(),t.$watch(r,function(){o()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,t){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(s,o,i,a){var r,l,c,u,d;if("textarea"!==o[0].type)throw new Error("uiCodemirror3 can only be applied to a textarea element");r=e.codemirror||{},l=angular.extend({},r,s.$eval(i.uiCodemirror)),c=function(e){return function(t,n){var o=t.getValue();o!==a.$viewValue&&(a.$setViewValue(o),s.$apply()),"function"==typeof e&&e(t,n)}},u=function(){d=CodeMirror.fromTextArea(o[0],l),d.on("change",c(l.onChange));for(var e,r=0,u=n.length;u>r;++r)e=l["on"+n[r].charAt(0).toUpperCase()+n[r].slice(1)],void 0!==e&&"function"==typeof e&&d.on(n[r],e);a.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),a.$render=function(){d.setValue(a.$viewValue)},i.uiRefresh&&s.$watch(i.uiRefresh,function(e,n){e!==n&&t(d.refresh)})},t(u)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,s,o,i){var a,r,l;a=angular.extend({},n,e.$eval(o.uiCurrency)),r=function(e){var n;return n=1*e,s.toggleClass(a.pos,n>0),s.toggleClass(a.neg,0>n),s.toggleClass(a.zero,0===n),s.text(""===e?"":t(n,a.symbol)),!0},i.$render=function(){l=i.$viewValue,s.val(l),r(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,s,o){var i=function(){return angular.extend({},e.date,t.$eval(s.uiDate))},a=function(){var e=i();if(o){var s=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),o.$setViewValue(e),n.blur()})};if(e.onSelect){var a=e.onSelect;e.onSelect=function(e,n){s(),t.$apply(function(){a(e,n)})}}else e.onSelect=s;n.bind("change",s),o.$render=function(){var e=o.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),o&&o.$render()};t.$watch(i,a,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var t={require:"ngModel",link:function(t,n,s,o){var i=s.uiDateFormat||e.dateFormat;i?(o.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(i,e):void 0}),o.$parsers.push(function(e){return e?$.datepicker.formatDate(i,e):void 0})):(o.$formatters.push(function(e){return angular.isString(e)?new Date(e):void 0}),o.$parsers.push(function(e){return e?e.toISOString():void 0}))}};return t}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,s){var o=t.$eval(s.uiEvent);angular.forEach(o,function(s,o){var i=e(s);n.bind(o,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){i(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,s){var o,i;e.$watch(s.uiIf,function(s){o&&(o.remove(),o=void 0),i&&(i.$destroy(),i=void 0),s&&(i=e.$new(),n(i,function(e){o=e,t.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(e,t){return{restrict:"A",compile:function(n,s){if(!angular.isFunction(n[s.uiJq]))throw new Error('ui-jq: The "'+s.uiJq+'" function does not exist');var o=e.jq&&e.jq[s.uiJq];return function(e,n,s){function i(){t(function(){n[s.uiJq].apply(n,a)},0,!1)}var a=[];s.uiOptions?(a=e.$eval("["+s.uiOptions+"]"),angular.isObject(o)&&angular.isObject(a[0])&&(a[0]=angular.extend({},o,a[0]))):o&&(a=[o]),s.ngModel&&n.is("select,input,textarea")&&n.on("change",function(){n.trigger("input")}),s.uiRefresh&&e.$watch(s.uiRefresh,function(){i()}),i()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(s,o,i,a){var r,l=[];r=o.$eval(a["ui"+n(s)]),angular.forEach(r,function(t,n){var s,o;o=e(t),angular.forEach(n.split(" "),function(e){s={expression:o,keys:{}},angular.forEach(e.split("-"),function(e){s.keys[e]=!0}),l.push(s)})}),i.bind(s,function(e){var n=e.metaKey||e.altKey,i=e.ctrlKey,a=e.shiftKey,r=e.keyCode;"keypress"===s&&!a&&r>=97&&122>=r&&(r-=32),angular.forEach(l,function(s){var r=s.keys[t[e.keyCode]]||s.keys[e.keyCode.toString()]||!1,l=s.keys.alt||!1,c=s.keys.ctrl||!1,u=s.keys.shift||!1;r&&l==n&&c==i&&u==a&&o.$apply(function(){s.expression(o,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,s){e("keydown",t,n,s)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,s){e("keypress",t,n,s)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,s){e("keyup",t,n,s)}}}]),function(){function e(e,t,n,s){angular.forEach(t.split(" "),function(t){var o={type:"map-"+t};google.maps.event.addListener(n,t,function(t){s.triggerHandler(angular.extend({},o,t)),e.$$phase||e.$apply()})})}function t(t,s){n.directive(t,[function(){return{restrict:"A",link:function(n,o,i){n.$watch(i[t],function(t){e(n,s,t,o)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(t,n){var s="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",o=t.map||{};return{restrict:"A",link:function(t,i,a){var r=angular.extend({},o,t.$eval(a.uiOptions)),l=new google.maps.Map(i[0],r),c=n(a.uiMap);c.assign(t,l),e(t,s,l,i)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(t,n,s){var o="closeclick content_change domready position_changed zindex_changed",i=t.mapInfoWindow||{};return{link:function(t,a,r){var l=angular.extend({},i,t.$eval(r.uiOptions));l.content=a[0];var c=n(r.uiMapInfoWindow),u=c(t);u||(u=new google.maps.InfoWindow(l),c.assign(t,u)),e(t,o,u,a),a.replaceWith("<div></div>");var d=u.open;u.open=function(e,n,o,i,r,l){s(a.contents())(t),d.call(u,e,n,o,i,r,l)}}}}]),t("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),t("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),t("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,s){s.$render=function(){var o=s.$viewValue||"";t.val(o),t.mask(e.$eval(n.uiMask))},s.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return s.$setValidity("mask",n),n?e:void 0}),t.bind("keyup",function(){e.$apply(function(){s.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return void 0!==e.reset&&(t=e.reset),{require:"ngModel",link:function(e,n,s,o){var i;i=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(i),i.bind("click",function(n){n.preventDefault(),e.$apply(function(){o.$setViewValue(s.uiReset?e.$eval(s.uiReset):t),o.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",compile:function(n,s){var o;if(s.uiRoute)o="uiRoute";else if(s.ngHref)o="ngHref";else{if(!s.href)throw new Error("uiRoute missing a route or href property on "+n[0]);o="href"}return function(n,s,i){function a(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),(c=function(){l(n,e.path().indexOf(t)>-1)})()}function r(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),(c=function(){var s=new RegExp("^"+t+"$",["i"]);l(n,s.test(e.path()))})()}var l=t(i.ngModel||i.routeModel||"$uiRoute").assign,c=angular.noop;switch(o){case"uiRoute":i.uiRoute?r(i.uiRoute):i.$observe("uiRoute",r);break;case"ngHref":i.ngHref?a(i.ngHref):i.$observe("ngHref",a);break;case"href":a(i.href)}n.$on("$routeChangeSuccess",function(){c()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,s){var o=n.offset().top;s.uiScrollfix?"-"===s.uiScrollfix.charAt(0)?s.uiScrollfix=o-s.uiScrollfix.substr(1):"+"===s.uiScrollfix.charAt(0)&&(s.uiScrollfix=o+parseFloat(s.uiScrollfix.substr(1))):s.uiScrollfix=o,angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var o=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;t=o.scrollTop}!n.hasClass("ui-scrollfix")&&t>s.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<s.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,s){var o,i,a,r=e.is("select"),l=void 0!==s.multiple;return e.is("select")&&(i=e.find("option[ng-repeat], option[data-ng-repeat]"),i.length&&(a=i.attr("ng-repeat")||i.attr("data-ng-repeat"),o=jQuery.trim(a.split("|")[0]).split(" ").pop())),function(e,s,i,a){var c=angular.extend({},n,e.$eval(i.uiSelect2));if(r?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),a&&(a.$render=function(){r?s.select2("val",a.$modelValue):l?a.$modelValue?angular.isArray(a.$modelValue)?s.select2("data",a.$modelValue):s.select2("val",a.$modelValue):s.select2("data",[]):angular.isObject(a.$modelValue)?s.select2("data",a.$modelValue):s.select2("val",a.$modelValue)},o&&e.$watch(o,function(e){e&&t(function(){s.select2("val",a.$viewValue),s.trigger("change")})}),!r&&(s.bind("change",function(){e.$apply(function(){a.$setViewValue(s.select2("data"))})}),c.initSelection))){var u=c.initSelection;c.initSelection=function(e,t){u(e,function(e){a.$setViewValue(e),t(e)})}}i.$observe("disabled",function(e){s.select2(e&&"disable"||"enable")}),i.ngMultiple&&e.$watch(i.ngMultiple,function(){s.select2(c)}),s.val(e.$eval(i.ngModel)),t(function(){s.select2(c),c.initSelection||r||a.$setViewValue(s.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(t,n,s,o){var i,a,r,l,c,u,d,p,h;c=angular.extend({},e.sortable,t.$eval(s.uiSortable)),o&&(o.$render=function(){n.sortable("refresh")},r=function(e,t){t.item.sortable={index:t.item.index()}},l=function(e,t){t.item.sortable.resort=o},i=function(e,t){t.item.sortable.relocate=!0,o.$modelValue.splice(t.item.index(),0,t.item.sortable.moved)},a=function(e,t){t.item.sortable.moved=1===o.$modelValue.length?o.$modelValue.splice(0,1)[0]:o.$modelValue.splice(t.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var s,o;o=n.item.sortable.index,s=n.item.index(),s>o&&s--,n.item.sortable.resort.$modelValue.splice(s,0,n.item.sortable.resort.$modelValue.splice(o,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&t.$apply()},p=c.start,c.start=function(e,t){r(e,t),"function"==typeof p&&p(e,t)},_stop=c.stop,c.stop=function(e,t){onStop(e,t),"function"==typeof _stop&&_stop(e,t)},h=c.update,c.update=function(e,t){l(e,t),"function"==typeof h&&h(e,t)},u=c.receive,c.receive=function(e,t){i(e,t),"function"==typeof u&&u(e,t)},d=c.remove,c.remove=function(e,t){a(e,t),"function"==typeof d&&d(e,t)}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,s,o){var i,a={onchange_callback:function(e){e.isDirty()&&(e.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(){return this.isDirty()&&(this.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e){e.isDirty()&&(e.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply())})}};i=s.uiTinymce?t.$eval(s.uiTinymce):{},angular.extend(a,e.tinymce,i),setTimeout(function(){n.tinymce(a)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,s){var o,i,a={},r=e.$eval(n.uiValidate);r&&(angular.isString(r)&&(r={validator:r}),angular.forEach(r,function(t,n){o=function(o){return e.$eval(t,{$value:o})?(s.$setValidity(n,!0),o):void s.$setValidity(n,!1)},a[n]=o,s.$formatters.push(o),s.$parsers.push(o)}),n.uiValidateWatch&&(i=e.$eval(n.uiValidateWatch),angular.isString(i)?e.$watch(i,function(){angular.forEach(a,function(e){e(s.$modelValue)})}):angular.forEach(i,function(t,n){e.$watch(t,function(){a[n](s.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n,s=e.toString();return void 0===t?s:angular.isArray(t)||angular.isObject(t)?(n=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){s=s.split(n+t).join(e)}),s):s.split("$0").join(t)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],s=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,o=0;o<n.length;o++)if(angular.equals(s(n[o]),s(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),s=-1,o=this.length;++s<o&&(n.context=n[0]=this[s])&&t.call(n[0],s,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function s(e){var t,n,s,o;if(!e||e.length<1)return e;for(t="",n=0,s=e.length;s>n;n++)o=e.charAt(n),t+=j[o]||o;return t}function o(e,t){for(var n=0,s=t.length;s>n;n+=1)if(a(e,t[n]))return n;return-1}function i(){var t=e(D);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function r(t,n){var s,o,i;if(null===t||t.length<1)return[];for(s=t.split(n),o=0,i=s.length;i>o;o+=1)s[o]=e.trim(s[o]);return s}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var s="keyup-change-value";n.on("keydown",function(){e.data(n,s)===t&&e.data(n,s,n.val())}),n.on("keyup",function(){var o=e.data(n,s);o!==t&&n.val()!==o&&(e.removeData(n,s),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var s=O;(s===t||s.x!==n.pageX||s.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function d(e,n,s){s=s||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(s,t)},e)}}function p(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){o(e.target,t.get())>=0&&n(e)})}function g(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],s=e.val().length;e.focus();var o=n.offsetWidth>0||n.offsetHeight>0;o&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(s,s):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function v(t){t=e(t)[0];var n=0,s=0;if("selectionStart"in t)n=t.selectionStart,s=t.selectionEnd-n;else if("selection"in document){t.focus();var o=document.selection.createRange();s=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),n=o.text.length-s}return{offset:n,length:s}}function m(e){e.preventDefault(),e.stopPropagation()}function f(e){e.preventDefault(),e.stopImmediatePropagation()}function b(t){if(!M){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);M=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),e("body").append(M)}return M.text(t.val()),M.width()}function w(t,n,s){var o,i,a=[];o=t.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),o=n.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(i=s(this),i&&a.push(i))})),t.attr("class",a.join(" "))}function y(e,t,n,o){var i=s(e.toUpperCase()).indexOf(s(t.toUpperCase())),a=t.length;return 0>i?void n.push(o(e)):(n.push(o(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(o(e.substring(i,i+a))),n.push("</span>"),void n.push(o(e.substring(i+a,e.length))))}function S(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var s,o=null,i=n.quietMillis||100,a=n.url,r=this;return function(l){window.clearTimeout(s),s=window.setTimeout(function(){var s=n.data,i=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);s=s?s.call(r,l.term,l.page,l.context):null,i="function"==typeof i?i.call(r,l.term,l.page,l.context):i,o&&"function"==typeof o.abort&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(r)):e.extend(d,n.params)),e.extend(d,{url:i,dataType:n.dataType,data:s,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),o=c.call(r,d)},i)}}function k(t){var n,s,o=t,i=function(e){return""+e.text};e.isArray(o)&&(s=o,o={results:s}),e.isFunction(o)===!1&&(s=o,o=function(){return s});var a=o();return a.text&&(i=a.text,e.isFunction(i)||(n=a.text,i=function(e){return e[n]})),function(t){var n,s=t.term,a={results:[]};return""===s?void t.callback(o()):(n=function(o,a){var r,l;if(o=o[0],o.children){r={};for(l in o)o.hasOwnProperty(l)&&(r[l]=o[l]);r.children=[],e(o.children).each2(function(e,t){n(t,r.children)}),(r.children.length||t.matcher(s,i(r),o))&&a.push(r)}else t.matcher(s,i(o),o)&&a.push(o)},e(o().results).each2(function(e,t){n(t,a.results)}),void t.callback(a))}}function C(n){var s=e.isFunction(n);return function(o){var i=o.term,a={results:[]};e(s?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===i||o.matcher(i,n))&&a.results.push(e?this:{id:this,text:this})}),o.callback(a)}}function x(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function $(t){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,1);return t.apply(null,n)}return t}function P(t){var n=0;return e.each(t,function(e,t){t.children?n+=P(t.children):n++}),n}function T(e,n,s,o){var i,r,l,c,u,d=e,p=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(r=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],r=e.indexOf(u),!(r>=0));l++);if(0>r)break;if(i=e.substring(0,r),e=e.substring(r+u.length),i.length>0&&(i=o.createSearchChoice.call(this,i,n),i!==t&&null!==i&&o.id(i)!==t&&null!==o.id(i))){for(p=!1,l=0,c=n.length;c>l;l++)if(a(o.id(i),o.id(n[l]))){p=!0;break}p||s(i)}}return d!==e?e:void 0}function A(t,n){var s=function(){};return s.prototype=new t,s.prototype.constructor=s,s.prototype.parent=t.prototype,s.prototype=e.extend(s.prototype,n),s}if(window.Select2===t){var E,F,I,H,R,M,U,L,O={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},D="<div class='select2-measure-scrollbar'></div>",j={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G","\ua7a0":"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H","\ua78d":"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K","\ua7a2":"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N","\ua790":"N","\ua7a4":"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R","\ua7a6":"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S","\u2c7e":"S","\ua7a8":"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z","\u2c7f":"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g","\ua7a1":"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k","\ua7a3":"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n","\ua791":"n","\ua7a5":"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r","\ua7a7":"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s","\ua7a9":"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z"};
U=e(document),R=function(){var e=1;return function(){return e++}}(),U.on("mousemove",function(e){O.x=e.pageX,O.y=e.pageY}),F=A(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var s,o,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+R()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=p(function(){return n.element.closest("body")}),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css($(n.containerCss)),this.container.addClass($(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=s=this.container.find(a),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),h(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&s.mousewheel(function(e,t,n,o){var i=s.scrollTop();o>0&&0>=i-o?(s.scrollTop(0),m(e)):0>o&&s.get(0).scrollHeight-s.scrollTop()+o<=s.height()&&(s.scrollTop(s.get(0).scrollHeight-s.height()),m(e))}),c(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var r=n.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),L=L||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var s,o,i,l,c=this;if(s=n.element,"select"===s.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(s,o,i){var a,r=this.opts.id,l=this.liveRegion;(a=function(s,o,u){var d,p,h,g,v,m,f,b,w,y;for(s=n.sortResults(s,o,i),d=0,p=s.length;p>d;d+=1)h=s[d],v=h.disabled===!0,g=!v&&r(h)!==t,m=h.children&&h.children.length>0,f=e("<li></li>"),f.addClass("select2-results-dept-"+u),f.addClass("select2-result"),f.addClass(g?"select2-result-selectable":"select2-result-unselectable"),v&&f.addClass("select2-disabled"),m&&f.addClass("select2-result-with-children"),f.addClass(c.opts.formatResultCssClass(h)),f.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+R()),b.attr("role","option"),y=n.formatResult(h,b,i,c.opts.escapeMarkup),y!==t&&(b.html(y),f.append(b)),m&&(w=e("<ul></ul>"),w.addClass("select2-result-sub"),a(h.children,w,u+1),f.append(w)),f.data("select2-data",h),o.append(f);l.text(n.formatMatches(s.length))})(o,s,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(i=n.id,n.id=function(e){return e[i]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(e){var n,o,i,a={results:[],more:!1},r=e.term;i=function(t,n){var s;t.is("option")?e.matcher(r,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(s=c.optionToData(t),t.children().each2(function(e,t){i(t,s.children)}),s.children.length>0&&n.push(s))},n=s.children(),this.getPlaceholder()!==t&&n.length>0&&(o=this.getPlaceholderOption(),o&&(n=n.not(o))),n.each2(function(e,t){i(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=k(n.data):"tags"in n&&(n.query=C(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,s){var o=[];e(r(t.val(),n.separator)).each(function(){var t={id:this,text:this},s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),o.push(t)}),s(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var e,n,s=this.opts.element;s.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=s.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=s.prop("readonly");n===t&&(n=!1),this.readonly(n),w(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass($(this.opts.containerCssClass)),w(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(this.opts.dropdownCssClass))}),s.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(s.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,s,o,i,a=this.dropdown,r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=a.outerHeight(!1),d=e(window),p=d.width(),h=d.height(),g=d.scrollLeft()+p,v=d.scrollTop()+h,m=r.top+l,f=r.left,b=v>=m+u,w=r.top-u>=d.scrollTop(),y=a.outerWidth(!1),S=g>=f+y,_=a.hasClass("select2-drop-above");_?(n=!0,!w&&b&&(s=!0,n=!1)):(n=!1,!b&&w&&(s=!0,n=!0)),s&&(a.hide(),r=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=a.outerHeight(!1),g=d.scrollLeft()+p,v=d.scrollTop()+h,m=r.top+l,f=r.left,y=a.outerWidth(!1),S=g>=f+y,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(i=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),y=a.outerWidth(!1)+(i.scrollHeight===i.clientHeight?0:L.width),y>c?c=y:y=c,S=g>=f+y):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,f-=t.left),S||(f=r.left+this.container.outerWidth(!1)-y),o={left:f,width:c},n?(o.top=r.top-u,o.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(o.top=m,o.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),o=e.extend(o,$(this.opts.dropdownCss)),a.css(o)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,s=this.containerId,o="scroll."+s,i="resize."+s,a="orientationchange."+s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(s){n(t);var o,i=e("#select2-drop");i.length>0&&(o=i.data("select2"),o.opts.selectOnBlur&&o.selectHighlighted({noFocus:!0}),o.close(),s.preventDefault(),s.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+o+" "+a,function(){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,s="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(s).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return $(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,s,o,i,a,r,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),s=e(t[n]),o=s.offset().top+s.outerHeight(!0),n===t.length-1&&(r=l.find("li.select2-more-results"),r.length>0&&(o=r.offset().top+r.outerHeight(!0))),i=l.offset().top+l.outerHeight(!0),o>i&&l.scrollTop(l.scrollTop()+(o-i)),a=s.offset().top-l.offset().top,0>a&&"none"!=s.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),s=this.highlight();s>-1&&s<n.length;){s+=t;var o=e(n[s]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(t){var n,s,i=this.findHighlightableChoices();return 0===arguments.length?o(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),0>t&&(t=0),this.removeHighlight(),n=e(i[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),s=n.data("select2-data"),void(s&&this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),s=this.resultsPage+1,o=this,i=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:s,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:i,page:s,context:a}),o.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text($(o.opts.formatLoadMore,s+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=s,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function s(){c.removeClass("select2-active"),p.positionDropdown(),p.liveRegion.text(u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.text():p.opts.formatMatches(u.find(".select2-result-selectable").length))}function o(e){u.html(e),s()}var i,r,l,c=this.search,u=this.results,d=this.opts,p=this,h=c.val(),g=e.data(this.container,"select2-last-term");if((n===!0||!g||!a(h,g))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var v=this.getMaximumSelectionSize();if(v>=1&&(i=this.data(),e.isArray(i)&&i.length>=v&&x(d.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+$(d.formatSelectionTooBig,v)+"</li>");if(c.val().length<d.minimumInputLength)return o(x(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+$(d.formatInputTooShort,c.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void o(x(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+$(d.formatInputTooLong,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+$(d.formatSearching)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&c.val(r),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(i){var r;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=i.context===t?null:i.context,this.opts.createSearchChoice&&""!==c.val()&&(r=this.opts.createSearchChoice.call(p,c.val(),i.results),r!==t&&null!==r&&p.id(r)!==t&&null!==p.id(r)&&0===e(i.results).filter(function(){return a(p.id(this),p.id(r))}).length&&this.opts.createSearchChoicePosition(i.results,r)),0===i.results.length&&x(d.formatNoMatches,"formatNoMatches"))return void o("<li class='select2-no-results'>"+$(d.formatNoMatches,c.val())+"</li>");u.empty(),p.opts.populateResults.call(this,u,i.results,{term:c.val(),page:this.resultsPage,context:null}),i.more===!0&&x(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+p.opts.escapeMarkup($(d.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(i,n),s(),this.opts.element.trigger({type:"select2-loaded",items:i})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){g(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),s=n.closest(".select2-result").data("select2-data");s?(this.highlight(t),this.onSelect(s,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,s,o,i,a,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(s=n.split(";"),i=0,a=s.length;a>i;i+=1)if(r=s[i].replace(/\s/g,""),o=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=n.call(this);null!==s&&this.container.css("width",s)}}),I=A(F,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,s,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(s=n.createTextRange(),s.collapse(!1),s.select()):n.setSelectionRange&&(o=this.search.val().length,n.setSelectionRange(o,o))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,s,o=this.container,i=this.dropdown,a=R();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=o.find(".select2-choice"),this.focusser=o.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),s=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(s.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||s.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)return void m(e);switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void m(e);case E.ENTER:return this.selectHighlighted(),void m(e);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.ESC){if(this.opts.openOnEnter===!1&&e.which===E.ENTER)return void m(e);if(e.which==E.DOWN||e.which==E.UP||e.which==E.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==E.DELETE||e.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),f(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(s){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(s)})),i.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var s=e.Event("select2-clearing");if(this.opts.element.trigger(s),s.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(s))}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var o=n.val(),i=null;t.query({matcher:function(e,n,s){var r=a(o,t.id(s));return r&&(i=s),r},callback:e.isFunction(s)?function(){s(i)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var s=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return a(o.id(t.data("select2-data")),o.opts.element.val())?(s=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&s>=0?s:0),t===!0){var i=this.opts.minimumResultsForSearch;i>=0&&this.showSearch(P(e.results)>=i)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:s})}},updateSelection:function(e){var n,s,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(n=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),n!==t&&o.append(n),s=this.opts.formatSelectionCssClass(e,o),s!==t&&o.addClass(s),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,s=null,o=this,i=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return s=o.optionToData(t),!1}),this.updateSelection(s),this.setPlaceholder(),n&&this.triggerChange({added:s,removed:i});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),n&&o.triggerChange({added:e,removed:i})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,s=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(s=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:n})):this.clear(s)))}}),H=A(F,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var s=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){s.push(n.optionToData(t))}),t(s)}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var o=r(n.val(),t.separator),i=[];t.query({matcher:function(n,s,r){var l=e.grep(o,function(e){return a(e,t.id(r))}).length;return l&&i.push(r),l},callback:e.isFunction(s)?function(){for(var e=[],n=0;n<o.length;n++)for(var r=o[n],l=0;l<i.length;l++){var c=i[l];if(a(r,t.id(c))){e.push(c),i.splice(l,1);break}}s(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var s=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){s.search[0].focus(),s.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+R()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())
})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),s=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),i=v(this.search);if(n.length&&(e.which==E.LEFT||e.which==E.RIGHT||e.which==E.BACKSPACE||e.which==E.DELETE||e.which==E.ENTER)){var a=n;return e.which==E.LEFT&&s.length?a=s:e.which==E.RIGHT?a=o.length?o:null:e.which===E.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),a=s.length?s:o):e.which==E.DELETE?this.unselect(n.first())&&(this.search.width(10),a=o.length?o:null):e.which==E.ENTER&&(a=null),this.selectChoice(a),m(e),void(a&&a.length||this.open())}if((e.which===E.BACKSPACE&&1==this.keydowns||e.which==E.LEFT)&&0==i.offset&&!i.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void m(e);case E.ENTER:return this.selectHighlighted(),void m(e);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(e),void m(e)}if(e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.BACKSPACE&&e.which!==E.ESC){if(e.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)&&m(e),e.which===E.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],s=[],i=this;e(t).each(function(){o(i.id(this),n)<0&&(n.push(i.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var s,o,i=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=i?a:r,c=this.id(n),u=this.getVal();s=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),s!=t&&l.find("div").replaceWith("<div>"+s+"</div>"),o=this.opts.formatSelectionCssClass(n,l.find("div")),o!=t&&l.addClass(o),i&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,s,i=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(s=o(this.id(n),i))>=0;)i.splice(s,1),this.setVal(i),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var s=this.getVal(),i=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),r=this;i.each2(function(e,t){var n=r.id(t.data("select2-data"));o(n,s)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&x(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+$(r.opts.formatNoMatches,r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,s,o,i=l(this.search);e=b(this.search)+10,t=this.search.offset().left,n=this.selection.width(),s=this.selection.offset().left,o=n-(t-s)-i,e>o&&(o=n-i),40>o&&(o=n-i),0>=o&&(o=e),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){o(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var s=0;s<e.length;s++)a(this.opts.id(t[n]),this.opts.id(e[s]))&&(t.splice(n,1),n>0&&n--,e.splice(s,1),s--);return{added:t,removed:e}},val:function(n,s){var o,i=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(s&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,i.id);i.setVal(n),i.updateSelection(t),i.clearSearch(),s&&i.triggerChange(i.buildChangeDetails(o,i.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var s,o,i=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),t||(t=[]),s=e.map(t,function(e){return i.opts.id(e)}),this.setVal(s),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),e.fn.select2=function(){var n,s,i,a,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?r=n.element.prop("multiple"):(r=n.multiple||!1,"tags"in n&&(n.multiple=r=!0)),s=r?new window.Select2["class"].multi:new window.Select2["class"].single,s.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(o(l[0],c)<0)throw"Unknown method: "+l[0];if(a=t,s=e(this).data("select2"),s===t)return;if(i=l[0],"container"===i?a=s.container:"dropdown"===i?a=s.dropdown:(p[i]&&(i=p[i]),a=s[i].apply(s,l.slice(1))),o(l[0],u)>=0||o(l[0],d)>=0&&1==l.length)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,s){var o=[];return y(e.text,n.term,o,s),o.join("")},formatSelection:function(e,n,s){return e?s(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},formatMatches:function(e){return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return s(""+t).toUpperCase().indexOf(s(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:S,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:k,tags:C},util:{debounce:d,markMatch:y,escapeMarkup:S,stripDiacritics:s},"class":{"abstract":F,single:I,multi:H}}}}(jQuery),function(){"use strict";var e,t;e=["$routeProvider","$locationProvider","$httpProvider","$modalProvider",function(e,t,n,s){return n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.html5Mode(!0),e.when("/",{templateUrl:"/assets/pages/landing.html"}).when("/admin/authentications",{controller:"RootCtrl"}).when("/landing",{templateUrl:"/assets/pages/landing.html"}).when("/proposals",{templateUrl:"/assets/proposals/index.html",controller:"ProposalListCtrl",resolve:{proposals:["MultiProposalLoader",function(e){return e()}]}}).when("/proposals/:proposalId",{templateUrl:"/assets/proposals/show.html",controller:"ProposalShowCtrl",resolve:{proposal:["ProposalLoader",function(e){return e()}],relatedProposals:["RelatedProposalsLoader",function(e){return e()}]}}).when("/currentuser",{resolve:{currentuser:["CurrentUserLoader",function(e){return e()}]}}).when("/about",{templateUrl:"/assets/pages/about.html"}).when("/terms-of-use",{templateUrl:"/assets/pages/terms-of-use.html"}).when("/privacy",{templateUrl:"/assets/pages/privacy.html"}).otherwise({template:"<h3>Whoops, page not found</h3>"}),s.options={backdrop:!0,keyboard:!0,windowClass:""},jQuery(function(){return $("body").prepend('<div id="fb-root"></div>'),$.ajax({url:""+window.location.protocol+"//connect.facebook.net/en_US/all.js",dataType:"script",cache:!0})})}],window.App=angular.module("spokenvote",["ngRoute","spokenvote.services","spokenvote.directives","spokenvote.templates","ui","ui.bootstrap"]).config(e),t=["$httpProvider",function(e){return e.responseInterceptors.push("errorHttpInterceptor")}],App.Services=angular.module("spokenvote.services",["ngResource","ngCookies"]).config(t).run(["$rootScope","$location",function(e,t){return e.location=t}]),App.Directives=angular.module("spokenvote.directives",[]),window.getSrv=function(e,t){return t=t||"*[ng-app]",angular.element(t).injector().get(e)},window.getScope=function(e){return angular.element(e).scope()}}.call(this),function(){var e;e=["$scope","$route","$location","CurrentHubLoader",function(e,t,n,s){return e.sessionSettings.routeParams=t.current.params,e.hubFilter={hubFilter:null},null!=t.current.params.hub&&null==t.current.params.proposalId&&(e.hubFilter={hubFilter:!0}),e.$on("$locationChangeSuccess",function(){return null==t.current.params.hub||null!==e.hubFilter.hubFilter&&String(e.hubFilter.hubFilter.select_id)===String(t.current.params.hub)?null==t.current.params.hub?e.hubFilter.hubFilter=null:void 0:s().then(function(t){return e.sessionSettings.hub_attributes=t,e.sessionSettings.hub_attributes.id=e.sessionSettings.hub_attributes.select_id,e.hubFilter.hubFilter=e.sessionSettings.hub_attributes})}),e.$watch("hubFilter.hubFilter",function(){return null===e.hubFilter.hubFilter?("/proposals"===n.path()&&n.search("hub",null),e.sessionSettings.actions.hubFilter="All Groups"):null!=e.sessionSettings.hub_attributes.id&&e.sessionSettings.actions.selectHub===!0?(e.sessionSettings.actions.selectHub=!1,n.path("/proposals").search("hub",e.sessionSettings.hub_attributes.id),e.sessionSettings.actions.hubFilter=e.sessionSettings.hub_attributes.short_hub):void 0}),e.hubFilterSelect2={minimumInputLength:1,minimumResultsForSearch:-1,placeholder:"<div class='fa fa-search'></div><span> Find your Group or Location</span>",width:"100%",allowClear:!0,ajax:{url:"/hubs",dataType:"json",data:function(e){return{hub_filter:e}},results:function(e){return{results:e}}},createSearchChoice:function(e){return e.length>2?{id:-1,select_id:-1,term:e,full_hub:e+" (Create New Group)"}:void 0},escapeMarkup:function(e){return e},formatResult:function(e){return e.full_hub},formatSelection:function(t){var n;return-1===t.id?(console.log(t),e.sessionSettings.actions.searchTerm=t.term,n=e.sessionSettings.hub_attributes,e.sessionSettings.hub_attributes={},e.sessionSettings.hub_attributes.location_id=n.location_id,e.sessionSettings.hub_attributes.formatted_location=n.formatted_location,angular.element(".select2-dropdown-open").select2("close"),angular.element("#newProposalHub").select2("data",null),null==e.currentUser.id?e.authService.signinFb(e).then(function(){return e.sessionSettings.openModals.newProposal||e.sessionSettings.openModals.getStarted||(e.votingService["new"](),e.sessionSettings.openModals.newProposal=!0),e.sessionSettings.actions.changeHub="new"}):(e.sessionSettings.openModals.newProposal||e.sessionSettings.openModals.getStarted||e.votingService["new"](),e.sessionSettings.openModals.newProposal=!0,e.sessionSettings.actions.changeHub="new"),t.term):_.isEmpty(t)?void 0:(console.log("else"),e.sessionSettings.hub_attributes=t,e.sessionSettings.actions.changeHub=!1,e.sessionSettings.actions.selectHub=!0,e.sessionSettings.hub_attributes.id=e.sessionSettings.hub_attributes.select_id,e.hubFilter.hubFilter=t,t.full_hub)},formatNoMatches:function(t){return e.sessionSettings.actions.searchTerm=t,'Not here? <a id="navCreateHub" onclick="App.navCreateHub()" href="javascript:" >Click here to create it</a>.'},id:function(e){return e.select_id},initSelection:function(t,n){return"new"===e.sessionSettings.actions.changeHub?n({}):s().then(function(t){return _.isEmpty(t)||(e.sessionSettings.hub_attributes=t),n(e.sessionSettings.hub_attributes)})}},App.navCreateHub=function(){return e.$apply(function(){var t;return t=e.sessionSettings.hub_attributes,e.sessionSettings.hub_attributes={},e.sessionSettings.hub_attributes.location_id=t.location_id,e.sessionSettings.hub_attributes.formatted_location=t.formatted_location,angular.element(".select2-dropdown-open").select2("close"),angular.element("#newProposalHub").select2("data",null),null==e.currentUser.id?e.authService.signinFb(e).then(function(){return e.sessionSettings.openModals.newProposal||e.sessionSettings.openModals.getStarted||e.votingService["new"](),e.sessionSettings.actions.changeHub="new"}):(e.sessionSettings.openModals.newProposal||e.sessionSettings.openModals.getStarted||e.votingService["new"](),e.sessionSettings.actions.changeHub="new")})},e.tooltips={navMenu:"Menu",backtoTopics:"Return to Topic list",newTopic:"Start a New Topic"}}],App.controller("DashboardCtrl",e)}.call(this),function(){var e,t,n;e=["$scope","$routeParams","$location","proposals","SpokenvoteCookies",function(e,t,n,s,o){return e.proposals=s,e.spokenvoteSession=o,e.sessionSettings.actions.detailPage=!1,e.setFilter=function(e){return n.search("filter",e)},e.setHub=function(e){return n.path("/proposals/").search("hub",e.id)},e.$on("event:proposalsChanged",function(){return e.proposals.$query})}],t=["$scope","$location","proposal","relatedProposals",function(e,t,n,s){return e.proposal=n,e.relatedProposals=s,e.sessionSettings.actions.detailPage=!0,e.$on("event:votesChanged",function(){return e.proposal.$get()}),e.hubView=function(){return t.path("/proposals").search("hub",n.hub.id)},e.setVoter=function(n){return t.path("/proposals").search("user",n.user_id),e.sessionSettings.actions.userFilter=n.username},e.support=function(t){return null!=e.currentUser.id?e.votingService.support(t):e.authService.signinFb(e).then(function(){return e.votingService.support(t)})},e.improve=function(t){return null!=e.currentUser.id?e.votingService.improve(e,t):e.authService.signinFb(e).then(function(){return e.votingService.improve(e,t)})},e.edit=function(t){return e.votingService.edit(e,t)},e["delete"]=function(t){return e.votingService["delete"](e,t)},e.tooltips={support:"<h6><b>Support this proposal</b></h6><b>Supporting:</b> You may support only one proposal on this topic, but are free to change your support to a <i>different</i> proposal at any time by clicking <i>support</i> on that proposal or by composing an <i>improved</i> proposal.",improve:"<h6><b>Create a better proposal</b></h6><b>Improving:</b> By composing an <i>improved</i> proposal you automatically become that proposal's first supporter. You may change your support to a <i>different</i> proposal at any time by supporting it or by composing another <i>improved</i> proposal.",edit:"<h6><b>Edit your proposal</b></h6><b>Editing: </b>You may edit your proposal<br /> up until it receives its first support from<br />another user.","delete":"<h6><b>Delete your proposal</b></h6><b>Deleting: </b>You may delete your<br />proposal up until it receives its first<br />support from another user or if support<br /> ever falls to zero.",twitter:"Share this proposal on Twitter",facebook:"Share this proposal on Facebook",google:"Share this proposal on Google+"},e.socialSharing={twitterUrl:e.sessionSettings.socialSharing.twitterRootUrl+"Check out this Spokenvote proposal:"+e.location.absUrl()+" /via @spokenvote",facebookUrl:e.sessionSettings.socialSharing.facebookRootUrl+e.location.absUrl(),googleUrl:e.sessionSettings.socialSharing.googleRootUrl+e.location.absUrl()}}],n=["$scope",function(e){return e.$on("event:votesChanged",function(){return e.relatedProposals.$get()}),e.related_sorter_dropdown=[{text:"By Votes",submenu:[{text:"Most Votes",click:"sortRelatedProposals('Most Votes')"},{text:"Least Votes",click:"sortRelatedProposals('Least Votes')"}]},{text:"By Age",submenu:[{text:"Most Recently Voted on",click:"sortRelatedProposals('Most Recently Voted on')"},{text:"Oldest Most Recent Vote",click:"sortRelatedProposals('Oldest Most Recent Vote')"}]}],e.sortRelatedProposals=function(t){return e.relatedProposals.$get({id:e.proposal.id,related_sort_by:t}),e.selectedSort=t}}],App.controller("ProposalListCtrl",e),App.controller("ProposalShowCtrl",t),App.controller("RelatedProposalShowCtrl",n)}.call(this),function(){var e;e=["$scope","$rootScope","$route","AlertService","$location","$modal","Auth","SessionService","SessionSettings","CurrentUserLoader","VotingService",function(e,t,n,s,o,i,a,r,l,c,u){return t.alertService=s,t.authService=a,t.sessionSettings=l,t.votingService=u,c().then(function(e){return t.currentUser=e,null!=t.currentUser.username&&"/"===o.path()?o.path("/proposals").search("filter","my"):void 0}),window.fbAsyncInit=function(){return FB.init({appId:function(){switch(o.host().substring(0,3)){case"loc":return"449408378433518";case"sta":return"122901591225638";case"www":return"374325849312759"}}(),cookie:!0,status:!0,xfbml:!0})},e.$on("event:loginRequired",function(){return e.authService.signinFb(e)}),e.signinAuth=function(){var t;return t=i.open({templateUrl:"/assets/user/_auth_intro_modal.html",windowClass:"dialog-sm"}),t.result.then(function(){return e.authService.signinFb(e)})},e.userSettings=function(){var e;return l.openModals.userSettings===!1?(e=i.open({templateUrl:"/assets/user/_settings_modal.html",controller:"UserSettingsCtrl"}),e.opened.then(function(){return l.openModals.userSettings=!0}),e.result["finally"](function(){return l.openModals.userSettings=!1})):void 0},e.signOut=function(){return r.userOmniauth.$destroy(),t.currentUser={},o.path("/").search(""),s.setInfo("You are signed out of Spokenvote.",e,"main")},e.clearFilter=function(e){return o.search(e,null),t.sessionSettings.routeParams.user=null},e.showProposal=function(e){return o.path("/proposals/"+e.id).hash("navigationBar")},e.backtoTopics=function(){return e.sessionSettings.routeParams=n.current.params,o.path("/proposals").hash("prop"+e.sessionSettings.routeParams.proposalId)},e.newTopic=function(){return null!=e.currentUser.id?e.votingService["new"](e):e.authService.signinFb(e).then(function(){return e.votingService["new"](e)})},e.getStarted=function(){return e.votingService.wizard(e)},t.rootTips={newHub:"You may change the group to which you are directing this proposal by clicking here."}}],App.controller("RootCtrl",e)}.call(this),function(){var e;e=["$scope","$routeParams","$location",function(e,t,n){return e.setFilter=function(t){return n.path("/proposals").search("filter",t),e.sessionSettings.routeParams.filter=t},e.oneAtATime=!0,e.isopen=!1}],App.controller("SidebarCtrl",e)}.call(this),function(){var e;e=angular.module("spokenvote"),e.controller("UserSettingsCtrl",["$scope","$modalInstance","CurrentUser",function(e,t,n){return e.saveUserSettings=function(){return e.alertService.clearAlerts(),n.save(e.currentUser,function(n){return e.alertService.setSuccess(e.currentUser.first_name+"'s settings have been updated.",e,"main"),t.close(n)},function(t){return e.alertService.setCtlResult("Sorry, "+e.currentUser.first_name+" your settings were not saved.",e,"modal"),e.alertService.setJson(t.data)})}}])}.call(this),function(){var e,t,n,s,o;o=["$scope","$location","$rootScope","$modalInstance","Vote",function(e,t,n,s,o){return e.alertService.clearAlerts(),null!=n.sessionSettings.newSupport.related&&e.alertService.setCtlResult("We found support from you on another proposal. If you continue, your previous support will be moved here.",e,"modal"),e.saveSupport=function(){var i;return e.alertService.clearAlerts(),n.sessionSettings.newSupport.save.proposal_id=n.sessionSettings.newSupport.target.id,i=o.save(e.sessionSettings.newSupport.save,function(o){return n.$broadcast("event:votesChanged"),e.alertService.setSuccess('Your vote was created with the comment: "'+o.comment+'"',e,"main"),s.close(o),t.path("/proposals/"+o.proposal_id).hash("prop"+n.sessionSettings.newSupport.save.proposal_id)},function(t){return e.alertService.setCtlResult("Sorry, your vote to support this proposal was not counted.",e,"modal"),e.alertService.setJson(t.data)})}}],n=["$scope","$location","$rootScope","$modalInstance","Proposal",function(e,t,n,s,o){return e.alertService.clearAlerts(),"related_proposal"===e.current_user_support&&e.alertService.setCtlResult("We found support from you on another proposal. If you create a new, improved propsal your previous support will be moved here.",e,"modal"),e.improvedProposal={statement:e.clicked_proposal.statement},e.saveImprovement=function(){var n;return n={proposal:{parent_id:e.clicked_proposal.id,statement:e.improvedProposal.statement,votes_attributes:{comment:e.improvedProposal.comment}}},e.alertService.clearAlerts(),n=o.save(n,function(n){return t.path("/proposals/"+n.id),e.alertService.setSuccess('Your improved proposal stating: "'+n.statement+'" was created.',e,"main"),s.close(n)},function(t){return e.alertService.setCtlResult("Sorry, your improved proposal was not saved.",e,"modal"),e.alertService.setJson(t.data)})}}],t=["$scope","$location","$rootScope","$modalInstance","Proposal",function(e,t,n,s,o){return e.clicked_proposal=e.clicked_proposal,e.clicked_proposal.votes.length>1&&e.alertService.setCtlResult("We found support from other users on your proposal. You can no longer edit your proposal, but you can Improve it to get a similar result.",e),e.editProposal={id:e.clicked_proposal.id,proposal:{statement:e.clicked_proposal.statement,votes_attributes:{comment:e.clicked_proposal.votes[0].comment,id:e.clicked_proposal.votes[0].id}}},e.saveEdit=function(){return e.alertService.clearAlerts(),o.update(e.editProposal,function(t){return n.$broadcast("event:votesChanged"),e.alertService.setSuccess('Your proposal stating: "'+t.statement+'" has been saved.',e),s.close(t)},function(t){return e.alertService.setCtlResult("Sorry, your improved proposal was not saved.",e),e.alertService.setJson(t.data)})}}],e=["$scope","$location","$rootScope","$modalInstance","Proposal",function(e,t,n,s,o){return e.clicked_proposal=e.clicked_proposal,e.clicked_proposal.votes.length>1&&e.alertService.setCtlResult("We found support from other users on your proposal. You can no longer delete your proposal, but you can Improve it if you'd like to make a different proposal.",e),e.deleteProposal=function(){return e.alertService.clearAlerts(),o["delete"](e.clicked_proposal,function(n){return e.alertService.setSuccess('Your proposal stating: "'+e.clicked_proposal.statement+'" was deleted.',e),t.path("/proposals").search("hub",e.clicked_proposal.hub_id),s.close(n)},function(t){return e.alertService.setCtlResult("Sorry, your  proposal could not be deleted.",e),e.alertService.setJson(t.data)})}}],s=["$scope","$modalInstance",function(e,t){return e.modalInstance=t}],App.controller("SupportCtrl",o),App.controller("ImroveCtrl",n),App.controller("EditProposalCtrl",t),App.controller("DeleteProposalCtrl",e),App.controller("NewProposalCtrl",s)}.call(this),function(){var e;e=["$scope","$location","$modalInstance",function(e,t,n){return e.alertService.clearAlerts(),e.modalInstance=n,e.sessionSettings.hub_attributes.id=null,e.sessionSettings.actions.newProposalHub=null,e.sessionSettings.actions.changeHub=!0,e.sessionSettings.actions.wizardToGroup=null,e.goToGroup=function(n){return null!=e.sessionSettings.hub_attributes.id?(t.path("/proposals").search("hub",e.sessionSettings.hub_attributes.id).hash("navigationBar"),e.sessionSettings.actions.hubFilter=e.sessionSettings.hub_attributes.group_name,e.sessionSettings.actions.wizardToGroup=n):void 0}}],App.controller("GetStartedCtrl",e)}.call(this),function(){var e;e=["$parse","$rootScope",function(e,t){return{restrict:"A",templateUrl:"/assets/shared/_request_response_partial.html",link:function(n,s,o){var i;return i=o.alertmessageclear,t.hideAlert=function(){return e(i).assign(n,null)}}}}],App.Directives.directive("alertBar",e)}.call(this),function(){var e;e=function(){return{require:"ngModel",link:function(e,t,n,s){var o,i,a;return s.$parsers.unshift(function(){return s.$setValidity("location",!1)}),i=new google.maps.LatLngBounds(new google.maps.LatLng(72.501722,-172.617188),new google.maps.LatLng(14.604847,-61.171875)),a={bounds:i,types:["(regions)"]},o=new google.maps.places.Autocomplete(t[0],a),google.maps.event.addListener(o,"place_changed",function(){var t;return t=o.getPlace(),s.$setValidity("location",!0),e.$apply(function(){return e.sessionSettings.hub_attributes.location_id=t.id,e.sessionSettings.hub_attributes.formatted_location=t.formatted_address})})}}},App.Directives.directive("svGooglePlace",e)}.call(this),function(){App.filter("capitalize",function(){return function(e){return e.substring(0,1).toUpperCase()+e.replace(/_/," ").substring(1)}}),App.filter("slice",function(){return function(e,t,n){return e.slice(t,n)}})}.call(this),function(){var e,t,n,s,o,i,a,r,l,c,u,d,p,h,g;t=function(e){return e("/currentuser")},s=function(e){return e("/hubs/:id",{id:"@id"},{update:{method:"PUT"}})},g=function(e){return e("/votes/:id",{id:"@id"},{update:{method:"PUT"}})},i=function(e){return e("/proposals/:id",{id:"@id"},{update:{method:"PUT"}})},r=function(e){return e("/proposals/:id/related_proposals?related_sort_by=:related_sort_by",{id:"@id",related_sort_by:"@related_sort_by"})},c=function(e){return e("/proposals/:id/related_vote_in_tree",{id:"@id"})},d=function(e){var t;return t=function(e){return angular.extend(this,e)},t.prototype.$save=function(){return e.post("/authentications",{auth:this.auth})},t.prototype.$destroy=function(){return e["delete"]("/users/logout")},t},h=function(){var e;return e=function(e){return angular.extend(this,e)}},p=function(e){var t;return t=function(e){return angular.extend(this,e)},t.prototype.$save=function(){return e.post("/users",{user:{name:this.name,email:this.email,password:this.password,password_confirmation:this.password_confirmation}})},t},n=function(e,t,n){return function(){var t;return t=n.defer(),e.get({},function(e){return t.resolve(e)},function(){return t.reject("Unable to locate a current user ")}),t.promise}},e=function(e,t,n){return function(){var s;return s=n.defer(),t.current.params.hub?e.get({id:t.current.params.hub},function(e){return s.resolve(e)},function(){return s.reject("Unable to locate a hub ")}):s.resolve(!1),s.promise}},a=function(e,t,n){return function(){var s;return s=n.defer(),e.get({id:t.current.params.proposalId},function(e){return s.resolve(e)},function(){return s.reject("Unable to locate proposal "+t.current.params.proposalId)
}),s.promise}},o=["Proposal","$route","$q",function(e,t,n){return function(){var s;return s=n.defer(),e.query({hub:t.current.params.hub,filter:t.current.params.filter,user:t.current.params.user},function(e){return s.resolve(e)},function(){return s.reject("Unable to locate proposals for hub"+t.current.params.hub)}),s.promise}}],l=function(e,t,n){return function(){var s;return s=n.defer(),e.get({id:t.current.params.proposalId,related_sort_by:t.current.params.related_sort_by},function(e){return s.resolve(e)},function(){return s.reject("Unable to locate related proposals "+t.current.params.proposalId)}),s.promise}},u=function(e,t){return function(n){var s;return s=t.defer(),e.get({id:n.id},function(e){return s.resolve(e)},function(){return s.reject("Unable to find any related votes in the tree for proposal: "+n.id)}),s.promise}},t.$inject=["$resource"],s.$inject=["$resource"],g.$inject=["$resource"],i.$inject=["$resource"],r.$inject=["$resource"],c.$inject=["$resource"],d.$inject=["$http"],h.$inject=["$http"],p.$inject=["$http"],n.$inject=["CurrentUser","$route","$q"],e.$inject=["Hub","$route","$q"],a.$inject=["Proposal","$route","$q"],l.$inject=["RelatedProposals","$route","$q"],u.$inject=["RelatedVoteInTree","$q"],App.Services.factory("CurrentUser",t),App.Services.factory("Hub",s),App.Services.factory("Vote",g),App.Services.factory("Proposal",i),App.Services.factory("CurrentHubLoader",e),App.Services.factory("RelatedProposals",r),App.Services.factory("RelatedVoteInTree",c),App.Services.factory("UserOmniauthResource",d),App.Services.factory("UserSessionResource",h),App.Services.factory("UserRegistrationResource",p),App.Services.factory("CurrentUserLoader",n),App.Services.factory("ProposalLoader",a),App.Services.factory("MultiProposalLoader",o),App.Services.factory("RelatedProposalsLoader",l),App.Services.factory("RelatedVoteInTreeLoader",u)}.call(this),function(){var e;e=function(e,t,n,s,o,i){var a,r;return a=function(e,s,i,a){return t.$apply(function(){return o.clearAlerts(),e?(n.facebookUser.me=e,r(i,a)):(o.setError("Error trying to sign you in to Facebook. Please try again",a,"main"),null!=s&&(o.setCtlResult(s.message,a,"main"),console.log(s)),i.reject(s))})},r=function(e,i){return s.userOmniauth.auth={provider:"facebook",uid:n.facebookUser.me.id,name:n.facebookUser.me.name,email:null!=n.facebookUser.me.email?n.facebookUser.me.email:void 0,token:n.facebookUser.auth.authResponse.accessToken,expiresIn:n.facebookUser.auth.authResponse.expiresIn},s.signedOut?(console.log("signed out"),s.userOmniauth.$save().success(function(n){return n.success===!0&&t.authService.updateUserSession(i).then(function(){return e.resolve(n)}),n.success===!1?(o.setCtlResult("Sorry, we were not able to sign you in to Spokenvote.",i,"main"),e.reject(n)):void 0})):void 0},{signinFb:function(t){var s;return s=e.defer(),FB.getLoginStatus(function(e){return"connected"===e.status?(n.facebookUser.auth=e,FB.api("/me",function(e){return e.error?a(null,e.error,s,t):a(e,null,s,t)})):FB.login(function(e){return n.facebookUser.auth=e,"connected"===e.status?FB.api("/me",function(e){return e.error?a(null,e.error,s,t):a(e,null,s,t)}):a(null,e,s,t)},{scope:"email,user_likes"})}),s.promise},updateUserSession:function(e){return i().then(function(n){return t.currentUser=n,t.alertService.clearAlerts,t.alertService.setInfo("You are signed in to Spokenvote!",e,"main"),t.$broadcast("event:votesChanged"),i()})}}},e.$inject=["$q","$rootScope","SessionSettings","SessionService","AlertService","CurrentUserLoader"],App.Services.factory("Auth",e)}.call(this),function(){var e,t,n,s,o;t=function(e,t,n,s){return{currentUser:e.get("_spokenvote_session"),signedIn:!!e.get("_spokenvote_session"),signedOut:!this.signedIn,userSession:new t({email:e.get("spokenvote_email"),password:null,remember_me:!0}),userOmniauth:new s({auth:null}),userRegistration:new n({name:null,email:e.get("spokenvote_email"),password:null,password_confirmation:null})}},e=function(e){return{callingScope:null,alertMessage:null,jsonResponse:null,jsonErrors:null,alertClass:null,alertDestination:null,cltActionResult:null,setSuccess:function(t,n,s){return this.alertMessage=t,this.alertDestination=s,this.alertClass="alert-success",null!=n?e(function(){return n.hideAlert()},7e3):void 0},setInfo:function(t,n,s){return this.alertMessage=t,this.alertDestination=s,this.alertClass="alert-info",null!=n?e(function(){return n.hideAlert()},7e3):void 0},setError:function(t,n,s){return this.alertMessage=t,this.alertDestination=s,this.alertClass="alert-danger",null!=n?e(function(){return n.hideAlert()},7e3):void 0},setCtlResult:function(e,t,n){return this.cltActionResult=e,this.alertDestination=n,this.alertClass="alert-danger"},setJson:function(e){return this.jsonResponse=e,e>" "?this.jsonErrors=e:void 0},setCallingScope:function(e){return this.callingScope=e},setClass:function(e){return this.alertClass=e},clearAlerts:function(){return this.callingScope=null,this.alertMessage=null,this.jsonResponse=null,this.jsonErrors=null,this.alertClass=null,this.cltActionResult=null}}},o=function(e,t,n,s){return function(t){return t.then(function(e){return e},function(t){return 406===t.status?(s.setError("Please sign in to continue."),n.$broadcast("event:loginRequired")):t.status>=400&&t.status<500&&s.setError("The server was unable to process your request."),e.reject(t)})}},n=function(){return{facebookUser:{auth:{},me:{}},actions:{hubFilter:"All Groups",userFilter:null,changeHub:!1,newProposalHub:null,searchTerm:null,wizardToGroup:null,selectHub:!1,offcanvas:!1,detailPage:!1},openModals:{signIn:!1,register:!1,register:!1,userSettings:!1,supportProposal:!1,improveProposal:!1,newProposal:!1,editProposal:!1,deleteProposal:!1,getStarted:!1},searchedHub:{},routeParams:{},hub_attributes:{},newProposal:{},newSupport:{target:{},related:{},save:{}},lastLocation:{location_id:null,formatted_location:null},socialSharing:{twitterRootUrl:"http://twitter.com/home?status=",facebookRootUrl:"http://www.facebook.com/sharer.php?u=",googleRootUrl:"https://plus.google.com/share?url="},spokenvote_attributes:{defaultGravatar:"http://www.spokenvote.com/assets/icons/sv-30.png",googleOauth2Config:{client_id:"390524033908-kqnb56kof2vfr4gssi2q84nth2n981g5",scope:["https://www.googleapis.com/auth/plus.login","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"]}}}},s=function(e){return e.SpokenvoteSession="Setting a value",{sessionCookie:e.SpokenvoteSession}},t.$inject=["$cookieStore","UserSessionResource","UserRegistrationResource","UserOmniauthResource"],e.$inject=["$timeout"],o.$inject=["$q","$location","$rootScope","AlertService"],s.$inject=["$cookies"],App.Services.factory("SessionService",t),App.Services.factory("AlertService",e),App.Services.factory("errorHttpInterceptor",o),App.Services.factory("SpokenvoteCookies",s),App.Services.factory("SessionSettings",n)}.call(this),function(){var e;e=["$rootScope","$location","$modal","SessionSettings","RelatedVoteInTreeLoader","Proposal",function(e,t,n,s,o,i){return{support:function(t){return e.sessionSettings.newSupport.target=t,e.sessionSettings.newSupport.related=null,e.alertService.clearAlerts(),null==e.currentUser.id?e.alertService.setInfo("To support proposals you need to sign in.",scope,"main"):o(t).then(function(o){var i;return null!=o.id&&(e.sessionSettings.newSupport.related=o,o.proposal.id===t.id)?void e.alertService.setInfo("Good news, it looks as if you have already supported this proposal. Further editing is not allowed at this time.",e,"main"):s.openModals.supportProposal===!1?(i=n.open({templateUrl:"/assets/proposals/_support_modal.html",controller:"SupportCtrl"}),i.opened.then(function(){return s.openModals.supportProposal=!0}),i.result["finally"](function(){return s.openModals.supportProposal=!1})):void 0})},improve:function(t,i){return t.clicked_proposal=i,t.current_user_support=null,e.alertService.clearAlerts(),null==t.currentUser.id?e.alertService.setInfo("To improve proposals you need to sign in.",t,"main"):o(i).then(function(e){var o;return null!=e.id&&(t.current_user_support="related_proposal"),s.openModals.improveProposal===!1?(o=n.open({templateUrl:"/assets/proposals/_improve_proposal_modal.html",controller:"ImroveCtrl",scope:t}),o.opened.then(function(){return s.openModals.improveProposal=!0}),o.result["finally"](function(){return s.openModals.improveProposal=!1})):void 0})},edit:function(t,o){var i;return t.clicked_proposal=o,null==t.currentUser.id?e.alertService.setInfo("To proceed you need to sign in.",t,"main"):s.openModals.editProposal===!1?(i=n.open({templateUrl:"/assets/proposals/_edit_proposal_modal.html",controller:"EditProposalCtrl",scope:t}),i.opened.then(function(){return s.openModals.editProposal=!0}),i.result["finally"](function(){return s.openModals.editProposal=!1})):void 0},"delete":function(t,o){var i;return t.clicked_proposal=o,null==t.currentUser.id?e.alertService.setInfo("To proceed you need to sign in.",t,"main"):s.openModals.deleteProposal===!1?(i=n.open({templateUrl:"/assets/proposals/_delete_proposal_modal.html",controller:"DeleteProposalCtrl",scope:t}),i.opened.then(function(){return s.openModals.deleteProposal=!0}),i.result["finally"](function(){return s.openModals.deleteProposal=!1})):void 0},"new":function(){var t;return e.alertService.clearAlerts(),null!=s.hub_attributes.id?s.actions.changeHub=!1:(s.actions.changeHub=!0,s.actions.searchTerm=null),null==e.currentUser.id?e.alertService.setInfo("To create proposals you need to sign in.",e,"main"):s.openModals.newProposal===!1?(t=n.open({templateUrl:"/assets/proposals/_new_proposal_modal.html",controller:"NewProposalCtrl"}),t.opened.then(function(){return s.openModals.newProposal=!0}),t.result["finally"](function(){return s.openModals.newProposal=!1})):void 0},wizard:function(){var e;return s.openModals.getStarted===!1?(e=n.open({templateUrl:"/assets/shared/_get_started_modal.html",controller:"GetStartedCtrl"}),e.opened.then(function(){return s.openModals.getStarted=!0}),e.result["finally"](function(){return s.openModals.getStarted=!1})):void 0},changeHub:function(e){return(e=!0&&"new"!==s.actions.changeHub)?(s.actions.newProposalHub=null,s.actions.changeHub=!s.actions.changeHub):void 0},saveNewProposal:function(n){var o;return null==s.hub_attributes.id&&(s.hub_attributes.group_name=s.actions.searchTerm),o={proposal:{statement:s.newProposal.statement,votes_attributes:{comment:s.newProposal.comment},hub_id:s.hub_attributes.id,hub_attributes:s.hub_attributes}},e.alertService.clearAlerts(),i.save(o,function(o){return e.$broadcast("event:proposalsChanged"),e.alertService.setSuccess('Your new proposal stating: "'+o.statement+'" was created.',e,"main"),t.path("/proposals/"+o.id).search("hub",o.hub_id).search("filter","my").hash("navigationBar"),n.close(o),s.actions.offcanvas=!1},function(t){return e.alertService.setCtlResult("Sorry, your new proposal was not saved.",e,"modal"),e.alertService.setJson(t.data)})}}}],App.Services.factory("VotingService",e)}.call(this),function(){angular.module("spokenvote.templates",[]).run(["$templateCache",function(e){var t,n,s,o,i;for(n=[{path:"/assets/hubs/_new_hub_modal.html",markup:"              <div class='modal' id='hubModal' ng-controller='HubsCtrl'>\n<div class='modal-header'>\n  <div class='close pull-right' data-dismiss='modal'>&times;</div>\n  <h3>Create a new Group</h3>\n  <div alert-bar alertmessageclear='alertService.alertClass' class='content'></div>\n</div>\n<div class='modal-body'>\n  <form name='newHubForm'>\n    <fieldset>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='input-xlarge' id='hub_group_name' ng-minlength='5' ng-model='hub_attributes.group_name' placeholder='Enter your new group name' required type='text'>\n        </div>\n        <div class='controls'>\n          <input class='input-xlarge' id='hub_formatted_location' name='formatted_location' ng-model='hub_attributes.formatted_location' placeholder=\"Enter the Group's Location\" required sv-google-place type='text'>\n          <span ng-show='!newHubForm.formatted_location.$valid'>Choose a valid location.</span>\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='addHub()' ng-disabled='!newHubForm.$valid'>Add Group <i class=\"glyphicon glyphicon-ok\"></i></button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/pages/about.html",markup:"              <div class='static_page'>\n<br>\n<div class='pull-right'>\n  <img src='/assets/search_example.png' width='400'>\n</div>\n<h2>Consensus Simplified</h2>\n<div class='content_offset'>\n  <ol class='attention_red'>\n    <li>Find a group</li>\n    <li>See what they're proposing</li>\n    <li>Help the best ideas reach consensus</li>\n  </ol>\n</div>\n<div class='content_offset'>\n  <h3>\n    Start by finding your group in the top box.\n  </h3>\n</div>\n<h2>How it Works</h2>\n<div class='content_div'>\n  First we capture your ideas, called Proposals. Then you get to organically improve the semantics of those proposals on your way toward reaching a majority opinion together. As the wording improves, the best proposals gain momentum by receiving support from multiple users and forming a clarity of consensus.\n</div>\n<h2>Why it Matters</h2>\n<div class='content_div'></div>\nSpokenvote is a tool to help groups of any size, from a local school board to an entire nation\u2019s people, reach consensus with radical efficiency. We think the process should be intuitive, fun, and yes, democratic.\n<div class='content_div_half'></div>\nDeeply inspired by Wikipedia, Spokenvote is an open source non-profit intended for small groups today, but over time to reach national politics. It starts with spontaneously capturing ideas as they occur to us. When we do   that as a diverse group, a\n<em>\u201cpower of the crowd\u201d</em>\neffect is introduced. The result is often a revelation of common sense that is difficult to discover from a top-down approach.\n<h2>Contribute</h2>\n<div class='content_div'>\n  Spokenvote is an open source application, and we welcome your participation in building it.\n  <a ng-href='http://railsforcharity.github.com/spokenvote'>Learn more.</a>\n</div>\n</div>\n"},{path:"/assets/pages/help.html",markup:"              <div class='content_page'>\n<h1>Using SpokenVote</h1>\n<h2>Finding What Matters to You</h2>\n<div class='content_div'>This is help for search and browse.</div>\n<h2>Adding Your Voice</h2>\n<div class='content_div'>This is help for supporting, improving and creating Proposals</div>\n<h2>Participating in SpokenVote</h2>\n<div class='content_div'>This is help for creating an account and signing in</div>\n<h2>More Resources</h2>\n<div class='content_div'>\n  Please post questions or issues that aren't answered here to\n  <a ng-href='https://groups.google.com/forum/?fromgroups#!forum/railsforcharity-spokenvote'>our Google Group.</a>\n</div>\n</div>\n"},{path:"/assets/pages/privacy.html",markup:"              <div class='static_page'>\n<h2>Privacy Policy</h2>\n<h3>Public Nature of Content Submitted to Sites</h3>\n<div class='content_div'>\n  The nature of posting content is to reach a public audience. Please be aware that any information that you submit to us whether through forms or email, including personally identifiable information, may be publicly displayed on sites hosted at www.spokenvote.org, or on websites not within our control. If you don\u2019t want others to see such information, don\u2019t submit it.\n</div>\n<h3>Content</h3>\n<div class='content_div'>\n  To create a new user account, you are required to submit an email address and other personal information. We may publicly display that personal information. Your address may also be used to send you email bulletins from individual Spokenvote postings to which you subscribe, or to attribute comments or posts to you.\n</div>\n<div class='content_div'>\n  If you contribute content, such as discussion comments, to any of our postings, your contribution may be publicly displayed including personally identifiable information.\n</div>\n<div class='content_div'>\n  The default setting for individual postings allows outside search engines, indexes and third party sites to scan all postings, create hyperlinks to individual postings or distribute it further via feeds. At this time these settings may not be changed.\n</div>\n<div class='content_div'>\n  Each time you update your postings, it may also send pings or feeds to sites that index or track newly updated postings. These sites may publicly display a hyperlink to your site and the time that you updated it. If your site publishes XML feeds, content from or links to your site may be publicly displayed on third party sites.\n</div>\n<div class='content_div'>\n  Depending on the settings on your account, email bulletins that contain content from your site may be sent out to subscribers.\n</div>\n<h3>IP Addresses and Referrers</h3>\n<div class='content_div'>\n  We may publicly display the IP addresses of visitors and contributors to individual postings hosted at www.spokenvote.org.\n</div>\n<div class='content_div'>\n  We may use your IP address to help diagnose problems with our server, to tailor site content and to format the site and software to user needs, and to generate aggregate statistical reports. We may use aggregate visitor data to prepare publicly displayed reports regarding the traffic on individual postings, site popularity rankings, and referrers that visitors use to access individual postings.\n</div>\n<h3>Cookies</h3>\n<div class='content_div'>\n  If you visit our web site, we may use session cookies while your browser is open, or while you are logged into our site. To facilitate our registration and login functions, we may use cookies to recognize you when you return to our website or to individual postings hosted our site. These cookies allow us to keep track of your username and password, so that you do not have to resubmit the information to log into your account. Always remember to log out of your site or account so that the computer\u2019s other users cannot access your account.\n</div>\n<h3>Disclosure of Information to Spokenvote administration and to Law Enforcement</h3>\n<div class='content_div'>\n  Available log records, and all data stored on our servers may be accessed by our system administrators. The system administrators may produce these records and data upon request or suspected violation of our terms of use. If we receive a warrant or subpoena for user information, we may disclose requested records to law enforcement authorities or outside parties seeking information through the legal process.\n</div>\n<h3>Links to Independent Websites</h3>\n<div class='content_div'>\n  Postings hosted by the Weblogs at Spokenvote may link to independently run web sites outside of the www.spokenvote.org domain. Spokenvote is not responsible for the privacy practices or content of such web sites.\n</div>\n<h3>Children\u2019s Privacy</h3>\n<div class='content_div'>\n  The content at Spokenvote is intended for adults and we will not knowingly collect personal information from children under 13 years old. If you are a parent or legal guardian of a child under age 13 who has become a member of a site hosted by www.spokenvote.org, please contact our administrator to notify us of a suspected violation.\n</div>\n<h3>Contacting Us</h3>\n<div class='content_div'>\n  If you have any questions about this privacy statement or the general terms of use of the site, you may contact us by posting to the Spokenvote group on www.spokenvote.org\n</div>\n<div class='content_div'>\n  Be Sociable, Share!\n</div>\n</div>\n"},{path:"/assets/pages/terms-of-use.html",markup:"              <div class='static_page'>\n<h2>Terms of Use</h2>\n<h3>Welcome to Spokenvote!</h3>\n<div class='content_div'>\n  We don\u2019t want to inundate you with legalese, but we need to make clear our respective rights and responsibilities related to this service. So, Spokenvote offers this tool (the \u201cServices\u201d) to you subject to the terms and conditions of use (\u201cTerms\u201d) contained herein. By accessing, creating or contributing to any blogs hosted at\xa0Spokenvote.org, and in consideration for the Services we provide to you, you agree to abide by these Terms. Please read them carefully before posting or creating any content.\n</div>\n<h3>1. Rights in the Content You Submit</h3>\n<div class='content_div'>\n  Default Creative Commons Public License\n</div>\n<div class='content_div'>\n  Unless you specify otherwise, any and all works of authorship copyrightable by you  (\u201cContent\u201d) are submitted under the terms of an Attribution-ShareAlike Creative Commons Public License. Under this license, you permit anyone to copy, distribute, display and perform your Content, royalty-free, on the condition that they credit your authorship each time they do so. You also permit others to distribute derivative works of your Content, but only if they do so under the same Attribution-ShareAlike license that governs your original Content.\n</div>\n<div class='content_div'>\n  Please read the full text of the Attribution-ShareAlike Creative Commons Public License.\n  Amongst other things, this license permits RSS aggregators to copy, distribute, display and perform any Content using RSS.\n</div>\n<div class='content_div'>\n  By posting your Content using the Services, you are granting Spokenvote a non-exclusive, royalty-free, perpetual, and worldwide license to use your Content in connection with the operation of the Services, including, without limitation, the license rights to copy, distribute, transmit, publicly display, publicly perform, reproduce, edit, translate and reformat your Content, and/or to incorporate it into a collective work.\n</div>\n<div class='content_div'>\n  Attribution\n</div>\n<div class='content_div'>\n  When publicly displaying, publicly performing, reproducing or distributing copies of your Content, or Content as incorporated into a collective work, Spokenvote will make best efforts to credit your authorship. You grant Spokenvote permission to use your name for such attribution purposes. You, likewise, agree to represent yourself accurately. You acknowledge that misrepresentation may lead us, in our sole discretion, to cancel your use of the Services and delete any of your Content.\n</div>\n<h3>2. Conduct</h3>\n<div class='content_div'>\n  Posting\n</div>\n<div class='content_div'>\n  The founders of Spokenvote believe deeply in free speech. Given our role in offering this service and our presence together as part of the extended community, however, we must reserve the right to remove certain content that you may post. As a general matter, you may post content freely and to others, so long as the content is not illegal, obscene, defamatory, threatening, infringing of intellectual property rights, invasive of privacy or otherwise injurious or objectionable.\n</div>\n<div class='content_div'>\n  You may not use the Spokenvote name to endorse or promote any product, opinion, cause or political candidate. Representation of your personal opinions as endorsed by Spokenvote is strictly prohibited.\n</div>\n<div class='content_div'>\n  By posting content, you warrant and represent that you either own or otherwise control all of the rights to that content, including, without limitation, all the rights necessary for you to provide, post, upload, input or submit the content, or that your use of the content is a protected fair use. You agree that you will not knowingly and with intent to defraud provide material and misleading false information. You represent and warrant also that the content you supply does not violate these Terms, and that you will indemnify and hold Spokenvote harmless for any and all claims resulting from content you supply.\n</div>\n<div class='content_div'>\n  You acknowledge that Spokenvote does not pre-screen or regularly review posted content, but that it shall have the right to remove in its sole discretion any content that it considers to violate these Terms.\n</div>\n<div class='content_div'>\n  Accessing\n</div>\n<div class='content_div'>\n  You understand that all content posted to\xa0http://www.Spokenvote.org/ is the sole responsibility of the individual who originally posted the content. You understand, also, that all opinions expressed by users of this site are expressed strictly in their individual capacities, and not as representatives of Spokenvote.\n</div>\n<div class='content_div'>\n  You agree that Spokenvote will not be liable, under any circumstances and in any way, for any errors or omissions, loss or damage of any kind incurred as a result of use of any content posted on this site. You agree that you must evaluate and bear all risks associated with the use of any content, including any reliance on the accuracy, completeness, or usefulness of such content.\n</div>\n<div class='content_div'>\n  Children\n</div>\n<div class='content_div'>\n  Collecting personal information from children under the age of 13 is prohibited. No Content should be directed toward such children without the express written permission of Spokenvote.\n</div>\n<h3>3. Disclaimer of Warranties and Limitation of Liability</h3>\n<div class='content_div'>\n  This site is provided on an \u201cas is\u201d and \u201cas available\u201d basis. Spokenvote makes no representations or warranties of any kind, express or implied, as to the site\u2019s operation or the information, content or materials included on this site. To the full extent permissible by applicable law, Spokenvote hereby disclaims all warranties, express or implied, including but not limited to implied warranties of merchantability and fitness for any particular purpose. Spokenvote will not be liable for any damages of any kind arising from the use of or inability to use this site. You expressly agree that you use this site solely at your own risk.\n</div>\n<h3>4. Privacy Policy</h3>\n<div class='content_div'>\n  Please be sure to read our\n  <a ng-href='/privacy'>Privacy Policy,</a>\n  which is incorporated herein by reference.\n</div>\n<h3>5. Modification of These Terms of Use</h3>\n<div class='content_div'>\n  Spokenvote reserves the right to change, at any time, at our sole discretion, the Terms under which these Services are offered. You are responsible for regularly reviewing these Terms. Your continued use of the Services constitutes your agreement to all such Terms.\n</div>\n<h3>6. Copyright Complaints</h3>\n<div class='content_div'>\n  Spokenvote respects the intellectual property of others, and requires that our users do the same. If you believe that your work has been copied and is accessible on this site in a way that constitutes copyright infringement, or that your intellectual property rights have been otherwise violated, please report to us any copyright infringements.\n</div>\n<div class='content_div'>\n  By using the site you acknowledge that you have read and are bound by this agreement, as well as any other Spokenvote network usage agreements that may govern your conduct. Thank you for participating in the Weblogs At Spokenvote Law initiative. Please do not hesitate to contact us if you have questions.\n</div>\n<h3>7. Terms License</h3>\n<div class='content_div'>\n  This terms of use document is licensed under a Creative Commons Attribution-Share Alike 3.0 United States License.\n</div>\n</div>\n"},{path:"/assets/proposals/_delete_proposal_modal.html",markup:"              <div id='deleteProposalModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2 class='modal-title'>Delete Proposal</h2>\n  <div class='selectedHub'>\n    <span>\n      <div class='groupName'>\n        {{ clicked_proposal.hub.group_name }}\n      </div>\n      <div class='groupLocation'>\n        {{ clicked_proposal.hub.formatted_location }}\n      </div>\n    </span>\n  </div>\n</div>\n<div class='modal-body'>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n  <div class='instructions'>\n    <div class='avatar'>\n      <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n    </div>\n    <h5>Are you sure you want to delete this proposal? Please note that deleting a proposal is permanent and cannot be undone.</h5>\n    <div class='proposal_statement'>\n      <div class='form-group'>\n        <div class='originalProposal'>\n          <h4>{{ clicked_proposal.statement }}</h4>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-bold' ng-click='$close()'>Cancel</button>\n        <button class='btn btn-danger btn-bold' ng-click='deleteProposal()'>Delete my proposal</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/proposals/_edit_proposal_modal.html",markup:"              <div id='editProposalModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2>Edit Proposal</h2>\n  <div class='selectedHub'>\n    <span>\n      <div class='groupName'>\n        {{ clicked_proposal.hub.group_name }}\n      </div>\n      <div class='groupLocation'>\n        {{ clicked_proposal.hub.formatted_location }}\n      </div>\n    </span>\n  </div>\n</div>\n<div class='modal-body'>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n  <form name='editProposalForm' ng-submit='saveEdit()'>\n    <div class='instructions'>\n      <div class='avatar'>\n        <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n      </div>\n      <h5>You are editing your Proposal.</h5>\n    </div>\n    <div class='form-group'>\n      <div class='controls'>\n        <textarea class='full-width' id='proposal_statement' name='proposal_statement' ng-maxLength='140' ng-minLength='15' ng-model='editProposal.proposal.statement' placeholder='Write your main proposal statement here.' required></textarea>\n        <div class='length_counter' ng-show='editProposalForm.proposal_statement.$valid'>{{ 140 - editProposal.proposal.statement.length }} characters remaining</div>\n        <div class='length_counter error-text' ng-show='editProposalForm.proposal_statement.$invalid &amp;&amp; !editProposalForm.proposal_statement.$error.minlength &amp;&amp; !editProposalForm.proposal_statement.$error.maxlength'>\n          <div class='fa fa-warning'></div>\n          <span>Required</span>\n        </div>\n        <div class='length_counter error-text' ng-show='editProposalForm.proposal_statement.$error.minlength'>\n          <div class='fa fa-warning'></div>\n          <span>Too Short</span>\n        </div>\n        <div class='length_counter error-text' ng-show='editProposalForm.proposal_statement.$error.maxlength'>\n          <div class='fa fa-warning'></div>\n          <span>Too Long</span>\n        </div>\n      </div>\n    </div>\n    <div class='form-group'>\n      <div class='controls'>\n        <textarea class='full-width' id='vote_comment' name='vote_comment' ng-maxLength='280' ng-minLength='7' ng-model='editProposal.proposal.votes_attributes.comment' placeholder='Explain why others should support your proposal here.' required></textarea>\n        <div class='length_counter' ng-show='editProposalForm.vote_comment.$valid'>{{ 280 - editProposal.proposal.votes_attributes.comment.length }} characters remaining</div>\n        <div class='length_counter error-text' ng-show='editProposalForm.vote_comment.$invalid &amp;&amp; !editProposalForm.vote_comment.$error.minlength &amp;&amp; !editProposalForm.vote_comment.$error.maxlength'>\n          <div class='fa fa-warning'></div>\n          <span>Required</span>\n        </div>\n        <div class='length_counter error-text' ng-show='editProposalForm.vote_comment.$error.minlength'>\n          <div class='fa fa-warning'></div>\n          <span>Too Short</span>\n        </div>\n        <div class='length_counter error-text' ng-show='editProposalForm.vote_comment.$error.maxlength'>\n          <div class='fa fa-warning'></div>\n          <span>Too Long</span>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='saveEdit()' ng-disabled='!editProposalForm.$valid'>Save your  proposal changes</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/proposals/_improve_proposal_modal.html",markup:"              <div id='improveProposalModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2 class='modal-title'>Improve Proposal</h2>\n  <div class='selectedHub'>\n    <span>\n      <div class='groupName'>\n        {{ clicked_proposal.hub.group_name }}\n      </div>\n      <div class='groupLocation'>\n        {{ clicked_proposal.hub.formatted_location }}\n      </div>\n    </span>\n  </div>\n</div>\n<div class='modal-body'>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n  <form name='improvedProposalForm'>\n    <div class='instructions'>\n      <div class='avatar'>\n        <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n      </div>\n      <h5>You are improving upon the proposal below.</h5>\n    </div>\n    <h5 class='hint-text'>\n      <div class='fa fa-lightbulb-o'></div>\n      <span>Hint! Try to make as few changes to the original proposal as possible while making your improvement.</span>\n    </h5>\n    <div class='proposal_statement'>\n      <div class='form-group'>\n        <h5>Original Proposal</h5>\n        <div class='originalProposal'>\n          <h4>{{ clicked_proposal.statement }}</h4>\n        </div>\n      </div>\n      <div class='text_input'>\n        <div class='form-group'>\n          <h5>Your Improved Proposal</h5>\n          <textarea class='full-width' id='proposal_statement' name='proposal_statement' ng-maxLength='140' ng-minLength='15' ng-model='improvedProposal.statement' placeholder='Write your improved proposal here, making as few changes to the original proposal as possible to effect your change.' required></textarea>\n          <div class='length_counter happy-text' ng-show='improvedProposalForm.proposal_statement.$valid'>{{ 140 - improvedProposal.statement.length }} characters remaining</div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.proposal_statement.$invalid &amp;&amp; !improvedProposalForm.proposal_statement.$error.minlength &amp;&amp; !improvedProposalForm.proposal_statement.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Required</span>\n          </div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.proposal_statement.$error.minlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Short</span>\n          </div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.proposal_statement.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Long</span>\n          </div>\n        </div>\n        <div class='form-group'>\n          <textarea class='full-width' id='vote_comment' name='vote_comment' ng-maxLength='280' ng-minLength='7' ng-model='improvedProposal.comment' placeholder='Explain why others should support your improved proposal.' required></textarea>\n          <div class='length_counter happy-text' ng-show='improvedProposalForm.vote_comment.$valid'>{{ 280 - improvedProposal.comment.length }} characters remaining</div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.vote_comment.$invalid &amp;&amp; !improvedProposalForm.vote_comment.$error.minlength &amp;&amp; !improvedProposalForm.vote_comment.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Required</span>\n          </div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.vote_comment.$error.minlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Short</span>\n          </div>\n          <div class='length_counter error-text' ng-show='improvedProposalForm.vote_comment.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Long</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='saveImprovement()' ng-disabled='!improvedProposalForm.$valid'>Save Improved proposal</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/proposals/_new_proposal_modal.html",markup:"              <div id='newProposalModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2 class='modal-title'>Start New Topic</h2>\n  <ng-include src=\"'/assets/shared/_selected_hub.html'\"></ng-include>\n</div>\n<div class='modal-body'>\n  <ng-include src=\"'/assets/shared/_alert_container.html'\"></ng-include>\n  <form name='newProposalForm' ng-submit='votingService.saveNewProposal(modalInstance)'>\n    <div class='newProposal'>\n      <ng-include src=\"'/assets/shared/_change_hub.html'\"></ng-include>\n      <ng-include src=\"'/assets/shared/_make_hub.html'\"></ng-include>\n      <ng-include src=\"'/assets/shared/_proposal_area.html'\"></ng-include>\n    </div>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='control-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='votingService.saveNewProposal(modalInstance)' ng-disabled='!newProposalForm.$valid' ng-show='sessionSettings.actions.changeHub == false'>Save your New proposal</button>\n        <button class='btn btn-primary btn-bold' ng-click='sessionSettings.actions.changeHub = false' ng-disabled='!newProposalForm.formatted_location.$valid || !newProposalForm.group_name.$valid' ng-show='sessionSettings.actions.changeHub == \"new\"'>Continue</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/proposals/_show.html",markup:"              <div class='proposal_container' ui-if='proposal.has_support'>\n<div class='main-proposal' id='prop{{ proposal.id }}'>\n  <div class='stats' id='big-percent'>\n    <div id='big-percent'>{{ proposal.votes_percentage }}</div>\n    <ng-include class='pull-right' src=\"'/assets/shared/_social_buttons.html'\"></ng-include>\n  </div>\n  <div class='proposal_statement'>\n    <h3>\n      <a ng-click='showProposal(proposal)' ng-href='#'>{{ proposal.statement }}</a>\n    </h3>\n  </div>\n  <div class='improve_support_buttons'>\n    <div class='edit btn-group' ng-show='currentUser &amp;&amp; proposal.is_editable &amp;&amp; proposal.user_id == currentUser.id'>\n      <span class='hidden-xs hidden-sm'>\n        <button class='btn btn-primary edit' ng-click='edit(proposal)' tooltip-html-unsafe='{{tooltips.edit}}' tooltip-placement='right'>\n          <i class='fa fa-pencil fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-md hidden-lg'>\n        <button class='btn btn-primary edit' ng-click='edit(proposal)'>\n          <i class='fa fa-pencil fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-xs hidden-sm'>\n        <button class='btn btn-danger delete' ng-click='delete(proposal)' tooltip-html-unsafe='{{tooltips.delete}}' tooltip-placement='right'>\n          <i class='fa fa-trash-o fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-md hidden-lg'>\n        <button class='btn btn-danger delete' ng-click='delete(proposal)'>\n          <i class='fa fa-trash-o fa-2x'></i>\n        </button>\n      </span>\n    </div>\n    <div class='vote_buttons_container' ng-hide='currentUser &amp;&amp; proposal.is_editable &amp;&amp; proposal.user_id == currentUser.id'>\n      <span class='hidden-xs hidden-sm'>\n        <button class='btn btn-support btn-bold main' ng-click='support(proposal)' tooltip-html-unsafe='{{tooltips.support}}' tooltip-placement='right'>\n          <i class='fa fa-thumbs-o-up fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-md hidden-lg'>\n        <button class='btn btn-support btn-bold main' ng-click='support(proposal)'>\n          <i class='fa fa-thumbs-o-up fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-xs hidden-sm'>\n        <button class='btn btn-improve btn-bold main' ng-click='improve(proposal)' tooltip-html-unsafe='{{tooltips.improve}}' tooltip-placement='right'>\n          <i class='fa fa-code-fork fa-2x'></i>\n        </button>\n      </span>\n      <span class='hidden-md hidden-lg'>\n        <button class='btn btn-improve btn-bold main' ng-click='improve(proposal)'>\n          <i class='fa fa-code-fork fa-2x'></i>\n        </button>\n      </span>\n    </div>\n  </div>\n</div>\n<div class='supporting_arguments'>\n  <h3 ng-show='proposal.has_support'>\n    Supporters\n    <votes>({{ proposal.votes_count }}</votes>\n    <votes count='proposal.votes_count' ng-pluralize when=\"{'0': 'Vote count error', '1': 'Vote)', 'other': 'Votes)'}\">) ({{proposal.votes_count}} votes)</votes>\n  </h3>\n  <div class='row support_row' ng-repeat='(key, vote) in proposal.votes'>\n    <div class='proposal-person col-xs-2'>\n      <div class='supporter-avatar'>\n        <img ng-src='http://graph.facebook.com/{{ vote.facebook_auth }}/picture?width=30&amp;height=30' ui-if='vote.facebook_auth'>\n        <img ng-src='http://gravatar.com/avatar/{{ vote.gravatar_hash }}.png?s=30&amp;d={{ sessionSettings.spokenvote_attributes.defaultGravatar }}' ui-if='!vote.facebook_auth'>\n      </div>\n    </div>\n    <div class='support-comment col-xs-10'>\n      <supporter-name>\n        <a ng-click='setVoter(vote)' ng-href='#'>{{ vote.username }}</a>\n      </supporter-name>\n      <supporter-text>\n        {{ vote.comment }}\n      </supporter-text>\n      <div class='supported_date'>\n        {{ vote.updated_at }}\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n"},{path:"/assets/proposals/_support_modal.html",markup:"              <div id='improveProposalModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2 class='modal-title'>Proposal Support</h2>\n  <div class='selectedHub'>\n    <span>\n      <div class='groupName'>\n        {{ sessionSettings.newSupport.target.hub.group_name }}\n      </div>\n      <div class='groupLocation'>\n        {{ sessionSettings.newSupport.target.hub.formatted_location }}\n      </div>\n    </span>\n  </div>\n</div>\n<div class='modal-body'>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n  <form name='supportProposalForm'>\n    <div class='instructions'>\n      <div class='avatar'>\n        <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n      </div>\n      <h5>Adding support to this proposal.</h5>\n    </div>\n    <div class='proposal_statement'>\n      <div class='form-group'>\n        <h5>Proposal Statement</h5>\n        <div class='originalProposal'>\n          <h4>{{ sessionSettings.newSupport.target.statement }}</h4>\n        </div>\n      </div>\n      <div class='text_input'>\n        <div class='form-group'>\n          <textarea class='full-width' id='vote_comment' name='vote_comment' ng-maxLength='280' ng-minLength='7' ng-model='sessionSettings.newSupport.save.comment' placeholder='Explain why you want to support this proposal.' required type='text'></textarea>\n          <div class='length_counter happy-text' ng-show='supportProposalForm.vote_comment.$valid'>{{ 280 - sessionSettings.newSupport.save.comment.length }} characters remaining</div>\n          <div class='length_counter error-text' ng-show='supportProposalForm.vote_comment.$invalid &amp;&amp; !supportProposalForm.vote_comment.$error.minlength &amp;&amp; !supportProposalForm.vote_comment.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Required</span>\n          </div>\n          <div class='length_counter error-text' ng-show='supportProposalForm.vote_comment.$error.minlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Short</span>\n          </div>\n          <div class='length_counter error-text' ng-show='supportProposalForm.vote_comment.$error.maxlength'>\n            <div class='fa fa-warning'></div>\n            <span>Too Long</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='saveSupport()' ng-disabled='!supportProposalForm.$valid'>Vote for this proposal</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/proposals/index.html",markup:"              <section id='homepage'>\n<div class='panel panel-default hidden-xs hidden-sm'>\n  <div class='panel-title'>\n    <div class='title pull-left'>\n      <h3>\n        <span>{{ sessionSettings.routeParams.filter | inflector:humanize }} Topics for {{ sessionSettings.actions.hubFilter }}</span>\n        <span ng-click=\"clearFilter('user')\" ui-if='sessionSettings.actions.userFilter || sessionSettings.routeParams.user'>\n          <span>for</span>\n          <span class='tag_item'>\n            <span>{{ sessionSettings.actions.userFilter || sessionSettings.routeParams.user }}</span>\n            <div class='fa fa-times'></div>\n          </span>\n          <span>&nbsp</span>\n        </span>\n      </h3>\n    </div>\n    <h3 class='btn-group pull-right'>\n      <button btn-radio=\"'my'\" class='btn btn-default' ng-click=\"setFilter('my')\" ng-model='sessionSettings.routeParams.filter' type='button' ui-if='currentUser.id'>\n        <div class='fa sub fa-check-square-o'></div>\n        <span>My Votes</span>\n      </button>\n      <button btn-radio=\"'active'\" class='btn btn-default' ng-click=\"setFilter('active')\" ng-model='sessionSettings.routeParams.filter' type='button'>\n        <div class='fa sub fa-tachometer'></div>\n        <span>&nbsp Active</span>\n      </button>\n      <button btn-radio=\"'recent'\" class='btn btn-default' ng-click=\"setFilter('recent')\" ng-model='sessionSettings.routeParams.filter' type='button'>\n        <div class='fa sub fa-clock-o'></div>\n        <span>&nbsp Recent</span>\n      </button>\n    </h3>\n  </div>\n  <div class='clearfix'></div>\n</div>\n<div class='listing-proposals'>\n  <ul ng-repeat='proposal in proposals'>\n    <li class='tree_container' ng-click='showProposal(proposal)'>\n      <div class='topic row'>\n        <div class='list-avatar col-xs-1'>\n          <div class='avatar-sprite' ng-repeat='(key, vote) in proposal.votes | slice:0:4'>\n            <img ng-src='http://graph.facebook.com/{{ vote.vote.facebook_auth }}/picture?width=20&amp;height=20' ui-if='vote.vote.facebook_auth'>\n            <img ng-src='http://gravatar.com/avatar/{{ vote.vote.gravatar_hash }}.png?s=30&amp;d={{ sessionSettings.spokenvote_attributes.defaultGravatar }}' ui-if='!vote.vote.facebook_auth'>\n          </div>\n        </div>\n        <div class='topic-and-hub col-xs-9 col-md-10'>\n          <div class='proposal' id='prop{{ proposal.id }}'>\n            <a id='showProposalLink' ng-click='showProposal(proposal)'>{{ proposal.statement }}</a>\n          </div>\n          <div class='hub'>\n            <a ng-click='setHub(proposal.hub)'>{{ proposal.hub.short_hub }}</a>\n          </div>\n        </div>\n        <div class='stats col-xs-2 col-md-1'>\n          <div class='counts row'>\n            <div class='vote_count col-xs-6'>\n              <div class='svlabel' tooltip-placement='left' tooltip='{{proposal.votes_in_tree}} votes on {{proposal.related_proposals_count}} proposals'>\n                <div class='votes'>{{ proposal.votes_in_tree }}</div>\n                Votes\n              </div>\n            </div>\n            <div class='prop_count col-xs-6'>\n              <div class='svlabel' tooltip-placement='left' tooltip='{{proposal.votes_in_tree}} votes on {{proposal.related_proposals_count}} proposals'>\n                <div class='props'>{{ proposal.related_proposals_count  }}</div>\n                Props\n              </div>\n            </div>\n          </div>\n          <div class='last_date row'>\n            <div class='date-stamp col-xs-12'>{{ proposal.updated_at }}</div>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n<div id='proposalNotFound'>\n  <div class='col-xs-7'>&nbsp;</div>\n  <div class='col-xs-5'>\n    Don't see the topic you're looking for?\n    <a href='#' id='makeProposalLink' ng-click='newTopic()'>Start a New Topic</a>\n  </div>\n  <div class='col-xs-12 col-xs-offset-1' ng-show='!proposals[0]'>\n    <h3>\n      <span>No {{ filterSelection | inflector:humanize }} topics</span>\n      <span ui-if='sessionSettings.actions.hubFilter'>for {{ sessionSettings.actions.hubFilter }}</span>\n      <span ui-if='sessionSettings.actions.userFilter'>for {{ sessionSettings.actions.userFilter }}</span>\n      <span>found.</span>\n    </h3>\n  </div>\n</div>\n</section>\n"},{path:"/assets/proposals/show.html",markup:"              <div class='content_page'>\n<div id='totalVoteLabel'>\n  <span class='label'>\n    {{ proposal.votes_in_tree }}\n    <ng-pluralize count='proposal.votes_in_tree' when=\"{'0': 'Vote count error', '1': 'Vote', 'other': 'Votes'}\"></ng-pluralize>\n    on {{ proposal.related_proposals_count + 1 }}\n    <ng-pluralize count='proposal.related_proposals_count + 1' when=\"{'0': 'Proposal count error', '1': 'Proposal', 'other': 'Proposals'}\"></ng-pluralize>\n  </span>\n</div>\n<div class='proposal_hub'>\n  <a class='hub' href='#' ng-click='hubView()'>\n    <h2>{{ proposal.hub.group_name }} &ndash; {{ proposal.hub.formatted_location }}</h2>\n  </a>\n</div>\n<ng-include src=\"'/assets/proposals/_show.html'\"></ng-include>\n<div class='hr'></div>\n<div id='relatedProposals' ng-controller='RelatedProposalShowCtrl'>\n  <div class='related-header'>\n    <div class='relatedSorter pull-right'>\n      <div class='btn-group' ng-show='proposal.related_proposals_count &gt; 1'>\n        <button class='btn' type='button'>{{ selectedSort || \"Sort Proposals\" }}</button>\n        <button bs-dropdown='related_sorter_dropdown' class='btn' type='button'>\n          <span class='caret'></span>\n        </button>\n      </div>\n    </div>\n    <div class='relatedProposalsTitle'>\n      Alternative Proposals\n    </div>\n  </div>\n  <ng-include ng-repeat='(key, proposal) in relatedProposals.related_proposals' ng-show='proposal.related_proposals_count &gt; 0' src=\"'/assets/proposals/_show.html'\"></ng-include>\n</div>\n<h3 ng-show='proposal.related_proposals_count &lt; 1'>There are no alternative proposals yet.</h3>\n</div>\n"},{path:"/assets/shared/_alert_container.html",markup:"              <div id='alertContainer'>\n<div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n</div>\n"},{path:"/assets/shared/_change_hub.html",markup:"              <div class='changehub' collapse='!sessionSettings.actions.changeHub'>\n<div class='instructions'>\n  <div class='avatar'>\n    <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n  </div>\n  <h5>Enter the group you would like to influence.</h5>\n</div>\n<div class='selecthub' ng-controller='DashboardCtrl' role='search'>\n  <hidden_field_tag id='newProposalHub' ng-model='sessionSettings.actions.newProposalHub' ui-select2='hubFilterSelect2'></hidden_field_tag>\n</div>\n</div>\n"},{path:"/assets/shared/_currentuser_avatar.html",markup:"              <div class='currentuser-avatar'>\n<img ng-src='http://graph.facebook.com/{{ currentUser.facebook_auth }}/picture' ui-if='currentUser.facebook_auth'>\n<img ng-src='http://gravatar.com/avatar/{{ currentUser.gravatar_hash }}.png?s=30&amp;d={{ sessionSettings.spokenvote_attributes.defaultGravatar }}' ui-if='!currentUser.facebook_auth'>\n</div>\n"},{path:"/assets/shared/_get_started_modal.html",markup:"              <div id='getStartedModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2 ng-show='sessionSettings.actions.changeHub == true'>Step 1 - Find Group</h2>\n  <h2 ng-show='!sessionSettings.actions.changeHub &amp;&amp; sessionSettings.hub_attributes.id'>Step 2 - Find Topic</h2>\n  <h2 ng-show='sessionSettings.actions.changeHub == \"new\"'>Step 2 - New Group</h2>\n  <h2 ng-show='!sessionSettings.actions.changeHub &amp;&amp; !sessionSettings.hub_attributes.id'>Step 3 - New Topic</h2>\n  <ng-include src=\"'/assets/shared/_selected_hub.html'\"></ng-include>\n</div>\n<div class='modal-body'>\n  <ng-include src=\"'/assets/shared/_alert_container.html'\"></ng-include>\n  <div class='instructions' ng-show='!sessionSettings.actions.changeHub &amp;&amp; sessionSettings.hub_attributes.id &amp;&amp; !sessionSettings.actions.wizardToGroup'>\n    <h3>\n      <span>We found</span>\n      <span ng-click='changeHub(true)'>your group!</span>\n    </h3>\n    <h5 class='hint-text'>\n      <div class='fa fa-lightbulb-o'></div>\n      <span-red>Hint!</span-red>\n      <span>If the group shown above is not the group you wanted, just click the name to search again.</span>\n    </h5>\n  </div>\n  <div class='instructions' ng-show='!sessionSettings.actions.changeHub &amp;&amp; sessionSettings.hub_attributes.id &amp;&amp; sessionSettings.actions.wizardToGroup'>\n    <h3>\n      <span>Going to</span>\n      <span ng-click='changeHub(true)'>{{ sessionSettings.hub_attributes.group_name }} ...</span>\n    </h3>\n    <h5 class='hint-text'>\n      <div class='fa fa-lightbulb-o'></div>\n      <span-red>Hint!</span-red>\n      <span>If you don't see the Topic you want on the next screen, just select Start New Topic.</span>\n    </h5>\n  </div>\n  <form name='newProposalForm' ng-submit='saveNewProposal()'>\n    <div class='newProposal'>\n      <ng-include src=\"'/assets/shared/_change_hub.html'\"></ng-include>\n      <ng-include src=\"'/assets/shared/_make_hub.html'\"></ng-include>\n      <ng-include ng-hide='sessionSettings.hub_attributes.id' src=\"'/assets/shared/_proposal_area.html'\"></ng-include>\n    </div>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='votingService.saveNewProposal(modalInstance)' ng-disabled='!newProposalForm.$valid' ng-show='sessionSettings.actions.changeHub == false &amp;&amp; !sessionSettings.hub_attributes.id'>Save your New proposal</button>\n        <button class='btn btn-primary btn-bold' ng-click='sessionSettings.actions.changeHub = false' ng-disabled='!newProposalForm.formatted_location.$valid || !newProposalForm.group_name.$valid' ng-show='sessionSettings.actions.changeHub == \"new\"'>Continue</button>\n        <button class='btn btn-primary btn-bold' ng-click='goToGroup(\"hint\")' ng-show='sessionSettings.hub_attributes.id &amp;&amp; !sessionSettings.actions.wizardToGroup'>Go to {{ sessionSettings.hub_attributes.group_name }}</button>\n        <button class='btn btn-primary btn-bold' ng-click='$close()' ng-show='sessionSettings.hub_attributes.id &amp;&amp; sessionSettings.actions.wizardToGroup == \"hint\"'>Ok, got it. Go to {{ sessionSettings.hub_attributes.group_name }}.</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"},{path:"/assets/shared/_make_hub.html",markup:"              <div class='makeHub' ui-if='sessionSettings.actions.changeHub == \"new\"'>\n<h5 class='hint-text'>\n  <div class='fa fa-lightbulb-o'></div>\n  <span-red>Hint!</span-red>\n  <span>Double-check to make sure your group does not already exist by trying alternate spellings above.</span>\n</h5>\n<h3>Create new group</h3>\n<div class='input-area'>\n  <input class='input-xlarge' id='group_name' name='group_name' ng-maxLength='50' ng-minlength='3' ng-model='sessionSettings.actions.searchTerm' placeholder='Enter your new group name' type='text'>\n  <div class='length_counter happy-text' ng-show='newProposalForm.group_name.$valid'>{{ 50 - sessionSettings.actions.searchTerm.length }} more characters allowed</div>\n  <div class='length_counter error-text' ng-show='newProposalForm.group_name.$invalid &amp;&amp; !newProposalForm.group_name.$error.minlength &amp;&amp; !newProposalForm.group_name.$error.maxlength'>\n    <span>Required</span>\n    <div class='fa fa-warning'></div>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.group_name.$error.minlength'>\n    <span>Too Short</span>\n    <div class='fa fa-warning'></div>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.group_name.$error.maxlength'>\n    <spanToo>Long</spanToo>\n    <div class='fa fa-warning'></div>\n  </div>\n  <input class='input-xlarge' id='hub_formatted_location' name='formatted_location' ng-model='sessionSettings.hub_attributes.formatted_location' placeholder=\"Enter the Group's Location\" required sv-google-place type='text'>\n  <div class='length_counter error-text' ng-hide='newProposalForm.formatted_location.$valid'>\n    <span>Choose a valid location from list.</span>\n    <div class='fa fa-warning'></div>\n  </div>\n  <div class='length_counter happy-text' ng-show='newProposalForm.formatted_location.$valid &amp;&amp; newProposalForm.group_name.$valid'>\n    <a class='link' href='#' ng-click='sessionSettings.actions.changeHub = false'>Group Location Valid</a>\n  </div>\n</div>\n</div>\n"},{path:"/assets/shared/_proposal_area.html",markup:"              <div class='proposal-area' ng-hide='sessionSettings.actions.changeHub'>\n<div class='instructions'>\n  <div class='avatar'>\n    <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n  </div>\n  <h5>Enter your proposal and explain why others should support it!</h5>\n</div>\n<div class='form-group'>\n  <textarea class='full-width' id='proposal_statement' name='statement' ng-maxLength='140' ng-minLength='15' ng-model='sessionSettings.newProposal.statement' placeholder='Write your main proposal statement here.' required></textarea>\n  <div class='length_counter happy-text' ng-show='newProposalForm.statement.$valid'>{{ 140 - sessionSettings.newProposal.statement.length }} characters remaining</div>\n  <div class='length_counter error-text' ng-show='newProposalForm.statement.$invalid &amp;&amp; !newProposalForm.statement.$error.minlength &amp;&amp; !newProposalForm.statement.$error.maxlength'>\n    <div class='fa fa-warning'></div>\n    <span>Required</span>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.statement.$error.minlength'>\n    <div class='fa fa-warning'></div>\n    <span>Too Short</span>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.statement.$error.maxlength'>\n    <div class='fa fa-warning'></div>\n    <span>Too Long</span>\n  </div>\n</div>\n<div class='form-group'>\n  <textarea class='full-width' id='vote_comment' name='comment' ng-maxLength='280' ng-minLength='7' ng-model='sessionSettings.newProposal.comment' placeholder='Explain why others should support your proposal here.' required></textarea>\n  <div class='length_counter happy-text' ng-show='newProposalForm.comment.$valid'>{{ 280 - sessionSettings.newProposal.comment.length }} characters remaining</div>\n  <div class='length_counter error-text' ng-show='newProposalForm.comment.$invalid &amp;&amp; !newProposalForm.comment.$error.minlength &amp;&amp; !newProposalForm.comment.$error.maxlength'>\n    <div class='fa fa-warning'></div>\n    <span>Required</span>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.comment.$error.minlength'>\n    <div class='fa fa-warning'></div>\n    <span>Too Short</span>\n  </div>\n  <div class='length_counter error-text' ng-show='newProposalForm.comment.$error.maxlength'>\n    <div class='fa fa-warning'></div>\n    <span>Too Long</span>\n  </div>\n</div>\n</div>\n"},{path:"/assets/shared/_registration_modal.html",markup:"              <div class='modal' id='registrationModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='close()'>&times;</div>\n  <h3>Join SpokenVote</h3>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n</div>\n<div class='modal-body'>\n  <div class='login_providers'>\n    <div class='content_div'>\n      <div class='fb-button-container-centered'>\n        <div class='fb-button' ng-click=\"userOmniauth('facebook')\">\n          <span class='fb-button-left'></span>\n          <span class='fb-button-center'>\n            <strong>Sign in</strong>\n            with\n            <strong>Facebook</strong>\n          </span>\n          <span class='fb-button-right'></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <h3 class='or-separator'>or</h3>\n  <div class='login_form'>\n    <form name='registrationForm' ng-submit='register()' novalidate>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='name' name='name' ng-minLength='4' ng-model='registration.name' placeholder='Name' required type='text'>\n            <div class='input-below-text' ng-show='registrationForm.name.$invalid &amp;&amp; registrationForm.name.$dirty'>Minimum length of 4</div>\n          </input>\n        </div>\n      </div>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='email_field' name='email' ng-minLength='3' ng-model='registration.email' placeholder='Email address' required type='email'>\n        </div>\n      </div>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='password_field' name='password' ng-minLength='5' ng-model='registration.password' placeholder='Password' required type='password'>\n          <div class='input-below-text' ng-show='registrationForm.password.$invalid &amp;&amp; registrationForm.password.$dirty'>Minimum length of 5</div>\n        </div>\n      </div>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='password_confirmation_field' name='password_confirmation' ng-minLength='5' ng-model='registration.password_confirmation' placeholder='Confirm password' required type='password'>\n          <div class='input-below-text' ng-show='registration.password != registration.password_confirmation &amp;&amp; registrationForm.password_confirmation.$dirty || registrationForm.$invalid &amp;&amp; registrationForm.password_confirmation.$dirty '>Almost ...</div>\n          <div class='input-below-text' ng-show='registrationForm.$valid &amp;&amp; registration.password == registration.password_confirmation &amp;&amp; registrationForm.password_confirmation.$dirty'>Match!</div>\n        </div>\n      </div>\n      <input class='invisible' type='submit'>\n    </form>\n  </div>\n</div>\n<div class='modal-footer'>\n  <div class='form-group'>\n    <div class='controls'>\n      <button class='btn btn-primary btn-bold' ng-click='register()' ng-disabled='!registrationForm.$valid || registration.password != registration.password_confirmation'>Join SpokenVote</button>\n    </div>\n  </div>\n</div>\n</div>\n"},{path:"/assets/shared/_request_response_partial.html",markup:"              <div class='alert alert-bar' ng-class='alertService.alertClass' ng-show='alertService.alertClass'>\n<button class='close' ng-click='hideAlert()' type='button'>&times;</button>\n<ul-list-style-type-none>\n  <li>{{ alertService.cltActionResult }}</li>\n  <li>{{ alertService.alertMessage }}</li>\n  <span ng-repeat='(key, values) in alertService.jsonErrors'>\n    <li ng-repeat='value in values' ng-show='alertService.jsonErrors'>\n      {{ key | capitalize }} {{ value }}\n    </li>\n  </span>\n</ul-list-style-type-none>\n</div>\n"},{path:"/assets/shared/_selected_hub.html",markup:"              <div class='selectedHub'>\n<span href='#' ng-click='votingService.changeHub(true)' ng-show='sessionSettings.hub_attributes.id || sessionSettings.actions.searchTerm'>\n  <div class='groupName' ng-show='sessionSettings.hub_attributes.id'>\n    <i class='glyphicon glyphicon-pencil'></i>\n    <span tooltip-html-unsafe='{{ rootTips.newHub }}' tooltip-placement='left'>{{ sessionSettings.hub_attributes.group_name }}</span>\n  </div>\n  <div class='groupName' ng-show='!sessionSettings.hub_attributes.id &amp;&amp; sessionSettings.hub_attributes.location_id'>\n    <i class='glyphicon glyphicon-pencil'></i>\n    <span tooltip-html-unsafe='{{ rootTips.newHub }}' tooltip-placement='left'>{{ sessionSettings.actions.searchTerm }}</span>\n  </div>\n  <div class='groupLocation' show='sessionSettings.hub_attributes.formatted_location'>{{ sessionSettings.hub_attributes.formatted_location }}</div>\n</span>\n</div>\n"},{path:"/assets/shared/_sidebar.html",markup:"              <ul ng-controller='SidebarCtrl' role='menu'>\n<li>\n  <a class='action-links'>\n    <div class='fa fa-file-text-o'></div>\n    <span ng-click='newTopic();sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas' tooltip-placement='bottom' tooltip='{{tooltips.newTopic}}'>Start a new topic</span>\n  </a>\n</li>\n<li>\n  <accordion close-others='oneAtATime'>\n    <accordion-group is-open='isopen'>\n      <accordion-heading>\n        <a class='action-links'>\n          <div class='fa fa-filter'></div>\n          <span ng-show='isopen'>Topic filter</span>\n          <span ng-hide='isopen'>Filter: {{ sessionSettings.routeParams.filter | inflector:humanize }} votes</span>\n        </a>\n      </accordion-heading>\n      <ul class='action-links'>\n        <li ng-class=\"{'active': sessionSettings.routeParams.filter == 'my'}\" ng-click=\"setFilter('my');sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas\" ng-show='currentUser.id' type='button'>\n          <div class='fa sub fa-check-square-o'></div>\n          <span>My Votes</span>\n          <div class='fa pull-right' ng-class=\"{'fa-flag-o': sessionSettings.routeParams.filter == 'my'}\"></div>\n        </li>\n        <li ng-class=\"{'active': sessionSettings.routeParams.filter == 'active'}\" ng-click=\"setFilter('active');sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas\" type='button'>\n          <div class='fa sub fa-tachometer'></div>\n          <span>Active</span>\n          <div class='fa pull-right' ng-class=\"{'fa-flag-o': sessionSettings.routeParams.filter == 'active'}\"></div>\n        </li>\n        <li ng-class=\"{'active': sessionSettings.routeParams.filter == 'new'}\" ng-click=\"setFilter('new');sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas\" type='button'>\n          <div class='fa sub fa-clock-o'></div>\n          <span>Recent</span>\n          <div class='fa pull-right' ng-class=\"{'fa-flag-o': sessionSettings.routeParams.filter == 'new'}\"></div>\n        </li>\n      </ul>\n    </accordion-group>\n  </accordion>\n</li>\n<li href='#' ng-click='userSettings();sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas' ng-show='currentUser.username'>\n  <a class='action-links'>\n    <div class='fa fa-wrench'></div>\n    <span>Settings</span>\n  </a>\n</li>\n<li href='#' ng-click='signinAuth();sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas' ng-show='!currentUser.username'>\n  <a class='action-links'>\n    <div class='fa fa-sign-in'></div>\n    <span>Sign in</span>\n  </a>\n</li>\n<li href='#' ng-click='signOut();sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas' ng-show='currentUser.username'>\n  <a class='action-links'>\n    <div class='fa fa-sign-out'></div>\n    <span>Sign out</span>\n  </a>\n</li>\n<li ng-show='currentUser[\"is_admin?\"]'>\n  <a class='action-links' href='/admin' ng-click='sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas' target='_blank'>\n    <div class='fa fa-cogs'></div>\n    <span>Admin</span>\n  </a>\n</li>\n<li>\n  <div class='hr'></div>\n</li>\n<li>\n  <a class='category-links' href='/about' ng-click='sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas'>\n    <div class='fa fa-pagelines'></div>\n    <span>About Spokenvote</span>\n  </a>\n</li>\n<li>\n  <div class='hr'></div>\n</li>\n<li>\n  <a class='category-links' href='http://railsforcharity.github.io/spokenvote/' ng-click='sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas'>\n    <div class='fa fa-github'></div>\n    <span>Developers</span>\n  </a>\n</li>\n<li class='category-links'>\n  <div class='hr'></div>\n</li>\n<li>\n  <a class='category-links' href='/terms-of-use' ng-click='sessionSettings.actions.offcanvas=!sessionSettings.actions.offcanvas'>\n    <div class='fa fa-bell-o'></div>\n    <span>Terms of use</span>\n  </a>\n</li>\n</ul>\n"},{path:"/assets/shared/_sign_in_modal.html",markup:"              <div class='modal' data-width='300px' id='loginModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='close()'>&times;</div>\n  <h3>Please Sign In</h3>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n</div>\n<div class='modal-body'>\n  <div class='login_providers'>\n    <div class='content_div'>\n      <div class='fb-button-container-centered'>\n        <div class='fb-button' ng-click=\"userOmniauth('facebook')\">\n          <span class='fb-button-left'></span>\n          <span class='fb-button-center'>\n            <strong>Sign in</strong>\n            with\n            <strong>Facebook</strong>\n          </span>\n          <span class='fb-button-right'></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <h3 class='or-separator'>or</h3>\n  <div class='login_form'>\n    <form name='signInForm' ng-submit='signIn()'>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='email_field' ng-minLength='3' ng-model-instant ng-model='session.email' placeholder='Email address' required type='text'>\n        </div>\n      </div>\n      <div class='form-group'>\n        <div class='controls'>\n          <input class='full-width' id='password_field' ng-minLength='3' ng-model-instant ng-model='session.password' placeholder='Password' required type='password'>\n          <span></span>\n        </div>\n        <div class='form-group'>\n          <div class='controls'>\n            <label class='checkbox'>\n              <input id='remember_me' ng-model='session.remember_me' type='checkbox'>Remember me next time</input>\n            </label>\n          </div>\n        </div>\n        <input class='invisible' type='submit'>\n      </div>\n    </form>\n  </div>\n</div>\n<div class='modal-footer'>\n  <div class='form-group'>\n    <div class='controls'>\n      <button class='btn btn-warning btn-bold pull-left' ng-click='registerModal();close()'>Need to Sign Up?</button>\n      <button class='btn btn-primary btn-bold' ng-click='signIn()' ng-disabled='!signInForm.$valid'>Sign In</button>\n    </div>\n  </div>\n</div>\n</div>\n"},{path:"/assets/shared/_social_buttons.html",markup:"              <div class='shares btn-group'>\n<a class='btn btn-xs' ng-href='{{ socialSharing.twitterUrl }}' tooltip-html-unsafe='{{tooltips.twitter}}'><i class='fa fa-twitter'></i></a>\n<a class='btn btn-xs' ng-href='{{ socialSharing.facebookUrl }}' tooltip-html-unsafe='{{tooltips.facebook}}'><i class='fa fa-facebook'></i></a>\n<a class='btn btn-xs' ng-href='{{ socialSharing.googleUrl }}' tooltip-html-unsafe='{{tooltips.google}}'><i class='fa fa-google-plus'></i></a>\n</div>\n"},{path:"/assets/shared/_user_nav.html",markup:"              <li class='dropdown' id='user_menu'>\n<span bs-dropdown='user_dropdown' class='dropdown-toggle' type='button'><b class=\"white\"> {{ currentUser.username }} </b> <b class=\"caret\"></b></span>\n<!-- the data-email attribute is not a good way to have user on hand but acceptable to me for first pass -->\n</li>\n"},{path:"/assets/user/_settings_modal.html",markup:"              <div id='userSettingsModal'>\n<div class='modal-header'>\n  <div class='close pull-right' ng-click='$close()'>&times;</div>\n  <h2>My Settings</h2>\n  <div class='selectedHub'>\n    <div class='hub'>\n      <h3>{{ currentUser.name }}</h3>\n      <h5>{{ sessionSettings.facebookUser.me.location.name }}</h5>\n    </div>\n  </div>\n  <div id='alertContainer'>\n    <div alert-bar alertmessageclear='alertService.alertClass' class='modalAlert' ng-show='alertService.alertDestination==\"modal\"'></div>\n  </div>\n</div>\n<div class='modal-body'>\n  <form name='userSettingsForm'>\n    <div class='instructions'>\n      <div class='avatar'>\n        <ng-include src=\"'/assets/shared/_currentuser_avatar.html'\"></ng-include>\n      </div>\n      <h5>At this time your settings all come from Facebook and should be edited there. Very soon some awesome social graph features will be added, and this window is where you will configure them.</h5>\n    </div>\n    <input class='half-width' id='user_full_name' ng-disabled='true' ng-maxLength='50' ng-minLength='5' ng-model='currentUser.name' placeholder='Your full name' required type='text'>\n    <input class='half-width' id='user_email' ng-disabled='true' ng-maxLength='50' ng-minLength='5' ng-model='currentUser.email' placeholder='Your primary email' required type='text'>\n    <input class='thee_quarter-width' id='user_location' ng-disabled='true' ng-maxLength='50' ng-minLength='5' ng-model='sessionSettings.facebookUser.me.location.name' placeholder='Your city' required type='text'>\n    <input class='thee_quarter-width' id='user_hometown' ng-disabled='true' ng-maxLength='50' ng-minLength='5' ng-model='sessionSettings.facebookUser.me.hometown.name' placeholder='Your hometown' required type='text'>\n  </form>\n</div>\n<div class='modal-footer'>\n  <fieldset>\n    <div class='form-group'>\n      <div class='controls'>\n        <button class='btn btn-primary btn-bold' ng-click='saveUserSettings()' ng-disabled='userSettingsForm.$valid || userSettingsForm.$invalid'>Save Settings</button>\n      </div>\n    </div>\n  </fieldset>\n</div>\n</div>\n"}],i=[],s=0,o=n.length;o>s;s++)t=n[s],i.push(e.put(t.path,t.markup));
return i}])}.call(this),function(){window.addToHomeConfig={startDelay:2e3,lifespan:3e4,expire:720,message:"To install the Spokenvote App on your %device: tap %icon and then <br><strong>Add to Home Screen.</strong>",touchIcon:!0}}.call(this);var addToHome=function(e){function t(){if(C){var t,s=Date.now();if(e.addToHomeConfig)for(t in e.addToHomeConfig)T[t]=e.addToHomeConfig[t];T.autostart||(T.hookOnLoad=!1),d=/ipad/gi.test(k.platform),p=e.devicePixelRatio&&e.devicePixelRatio>1,h=/Safari/i.test(k.appVersion)&&!/CriOS/i.test(k.appVersion),g=k.standalone,v=k.appVersion.match(/OS (\d+_\d+)/i),v=v&&v[1]?+v[1].replace("_","."):0,P=+e.localStorage.getItem("addToHome"),f=e.sessionStorage.getItem("addToHomeSession"),b=T.returningVisitor?P&&P+24192e5>s:!0,P||(P=s),m=b&&s>=P,T.hookOnLoad?e.addEventListener("load",n,!1):!T.hookOnLoad&&T.autostart&&n()}}function n(){if(e.removeEventListener("load",n,!1),b?T.expire&&m&&e.localStorage.setItem("addToHome",Date.now()+6e4*T.expire):e.localStorage.setItem("addToHome",Date.now()),y||h&&m&&!f&&!g&&b){var t="",o=k.platform.split(" ")[0],i=k.language.replace("-","_");w=document.createElement("div"),w.id="addToHomeScreen",w.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(5>v?"absolute":"fixed"),T.message in A&&(i=T.message,T.message=""),""===T.message&&(T.message=i in A?A[i]:A.en_us),T.touchIcon&&(t=document.querySelector(p?'head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]':'head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]'),t&&(t='<span style="background-image:url('+t.href+')" class="addToHomeTouchIcon"></span>')),w.className=(v>=7?"addToHomeIOS7 ":"")+(d?"addToHomeIpad":"addToHomeIphone")+(t?" addToHomeWide":""),w.innerHTML=t+T.message.replace("%device",o).replace("%icon",v>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(T.arrow?'<span class="addToHomeArrow"'+(v>=7&&d&&t?' style="margin-left:-32px"':"")+"></span>":"")+(T.closeButton?'<span class="addToHomeClose">\xd7</span>':""),document.body.appendChild(w),T.closeButton&&w.addEventListener("click",a,!1),!d&&v>=6&&window.addEventListener("orientationchange",u,!1),setTimeout(s,T.startDelay)}}function s(){var t,n=208;if(d)switch(5>v?($=e.scrollY,x=e.scrollX):6>v?n=160:v>=7&&(n=143),w.style.top=$+T.bottomOffset+"px",w.style.left=Math.max(x+n-Math.round(w.offsetWidth/2),9)+"px",T.animationIn){case"drop":t="0.6s",w.style.webkitTransform="translate3d(0,"+-(e.scrollY+T.bottomOffset+w.offsetHeight)+"px,0)";break;case"bubble":t="0.6s",w.style.opacity="0",w.style.webkitTransform="translate3d(0,"+($+50)+"px,0)";break;default:t="1s",w.style.opacity="0"}else switch($=e.innerHeight+e.scrollY,5>v?(x=Math.round((e.innerWidth-w.offsetWidth)/2)+e.scrollX,w.style.left=x+"px",w.style.top=$-w.offsetHeight-T.bottomOffset+"px"):(w.style.left="50%",w.style.marginLeft=-Math.round(w.offsetWidth/2)-(e.orientation%180&&v>=6&&7>v?40:0)+"px",w.style.bottom=T.bottomOffset+"px"),T.animationIn){case"drop":t="1s",w.style.webkitTransform="translate3d(0,"+-($+T.bottomOffset)+"px,0)";break;case"bubble":t="0.6s",w.style.webkitTransform="translate3d(0,"+(w.offsetHeight+T.bottomOffset+50)+"px,0)";break;default:t="1s",w.style.opacity="0"}w.offsetHeight,w.style.webkitTransitionDuration=t,w.style.opacity="1",w.style.webkitTransform="translate3d(0,0,0)",w.addEventListener("webkitTransitionEnd",r,!1),_=setTimeout(i,T.lifespan)}function o(e){C&&!w&&(y=e,n())}function i(){if(clearInterval(S),clearTimeout(_),_=null,w){var t=0,n=0,s="1",o="0";switch(T.closeButton&&w.removeEventListener("click",a,!1),!d&&v>=6&&window.removeEventListener("orientationchange",u,!1),5>v&&(t=d?e.scrollY-$:e.scrollY+e.innerHeight-$,n=d?e.scrollX-x:e.scrollX+Math.round((e.innerWidth-w.offsetWidth)/2)-x),w.style.webkitTransitionProperty="-webkit-transform,opacity",T.animationOut){case"drop":d?(o="0.4s",s="0",t+=50):(o="0.6s",t+=w.offsetHeight+T.bottomOffset+50);break;case"bubble":d?(o="0.8s",t-=w.offsetHeight+T.bottomOffset+50):(o="0.4s",s="0",t-=50);break;default:o="0.8s",s="0"}w.addEventListener("webkitTransitionEnd",r,!1),w.style.opacity=s,w.style.webkitTransitionDuration=o,w.style.webkitTransform="translate3d("+n+"px,"+t+"px,0)"}}function a(){e.sessionStorage.setItem("addToHomeSession","1"),f=!0,i()}function r(){return w.removeEventListener("webkitTransitionEnd",r,!1),w.style.webkitTransitionProperty="-webkit-transform",w.style.webkitTransitionDuration="0.2s",_?void(5>v&&_&&(S=setInterval(l,T.iterations))):(w.parentNode.removeChild(w),void(w=null))}function l(){var t=new WebKitCSSMatrix(e.getComputedStyle(w,null).webkitTransform),n=d?e.scrollY-$:e.scrollY+e.innerHeight-$,s=d?e.scrollX-x:e.scrollX+Math.round((e.innerWidth-w.offsetWidth)/2)-x;(n!=t.m42||s!=t.m41)&&(w.style.webkitTransform="translate3d("+s+"px,"+n+"px,0)")}function c(){e.localStorage.removeItem("addToHome"),e.sessionStorage.removeItem("addToHomeSession")}function u(){w.style.marginLeft=-Math.round(w.offsetWidth/2)-(e.orientation%180&&v>=6&&7>v?40:0)+"px"}var d,p,h,g,v,m,f,b,w,y,S,_,k=e.navigator,C="platform"in k&&/iphone|ipod|ipad/gi.test(k.platform),x=0,$=0,P=0,T={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:15e3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},A={ar:'<span dir="rtl">\u0642\u0645 \u0628\u062a\u062b\u0628\u064a\u062a \u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0639\u0644\u0649 <span dir="ltr">%device:</span>\u0627\u0646\u0642\u0631<span dir="ltr">%icon</span> \u060c<strong>\u062b\u0645 \u0627\u0636\u0641\u0647 \u0627\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629.</strong></span>',ca_es:"Per instal\xb7lar aquesta aplicaci\xf3 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",cs_cz:"Pro instalaci aplikace na V\xe1\u0161 %device, stiskn\u011bte %icon a v nab\xeddce <strong>P\u0159idat na plochu</strong>.",da_dk:"Tilf\xf8j denne side til din %device: tryk p\xe5 %icon og derefter <strong>F\xf8j til hjemmesk\xe6rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"\u0395\u03b3\u03ba\u03b1\u03c4\u03b1\u03c3\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ae\u03bd \u03c4\u03b7\u03bd \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c3\u03c4\u03ae\u03bd \u03c3\u03c5\u03c3\u03ba\u03b5\u03c5\u03ae \u03c3\u03b1\u03c2 %device: %icon \u03bc\u03b5\u03c4\u03ac \u03c0\u03b1\u03c4\u03ac\u03c4\u03b5 <strong>\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03b5 \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>A\xf1adir a pantalla de inicio</strong>.",fi_fi:"Asenna t\xe4m\xe4 web-sovellus laitteeseesi %device: paina %icon ja sen j\xe4lkeen valitse <strong>Lis\xe4\xe4 Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter \xe0 l'\xe9cran d'accueil</strong>.",he_il:'<span dir="rtl">\u05d4\u05ea\u05e7\u05df \u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05d6\u05d5 \u05e2\u05dc \u05d4-%device \u05e9\u05dc\u05da: \u05d4\u05e7\u05e9 %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',hr_hr:"Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u po\u010detni zaslon</strong>.",hu_hu:"Telep\xedtse ezt a web-alkalmaz\xe1st az \xd6n %device-j\xe1ra: nyomjon a %icon-ra majd a <strong>F\u0151k\xe9perny\u0151h\xf6z ad\xe1s</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u3042\u306a\u305f\u306e%device\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f%icon\u3092\u30bf\u30c3\u30d7\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",ko_kr:'%device\uc5d0 \uc6f9\uc571\uc744 \uc124\uce58\ud558\ub824\uba74 %icon\uc744 \ud130\uce58 \ud6c4 "\ud648\ud654\uba74\uc5d0 \ucd94\uac00"\ub97c \uc120\ud0dd\ud558\uc138\uc694',nb_no:"Installer denne appen p\xe5 din %device: trykk p\xe5 %icon og deretter <strong>Legg til p\xe5 Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",pl_pl:"Aby zainstalowa\u0107 t\u0119 aplikacje na %device: naci\u015bnij %icon a nast\u0119pnie <strong>Dodaj jako ikon\u0119</strong>.",pt_br:"Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar \xe0 Tela Inicio</strong>.",pt_pt:"Para instalar esta aplica\xe7\xe3o no seu %device, prima o %icon e depois em <strong>Adicionar ao ecr\xe3 principal</strong>.",ru_ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448 %device: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 %icon, \u0437\u0430\u0442\u0435\u043c <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \xab\u0414\u043e\u043c\u043e\u0439\xbb</strong>.",sv_se:"L\xe4gg till denna webbapplikation p\xe5 din %device: tryck p\xe5 %icon och d\xe4refter <strong>L\xe4gg till p\xe5 hemsk\xe4rmen</strong>.",th_th:"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e41\u0e2d\u0e1e\u0e2f \u0e19\u0e35\u0e49\u0e1a\u0e19 %device \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13: \u0e41\u0e15\u0e30 %icon \u0e41\u0e25\u0e30 <strong>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d\u0e42\u0e2e\u0e21</strong>",tr_tr:"Bu uygulamay\u0131 %device'a eklemek i\xe7in %icon simgesine sonras\u0131nda <strong>Ana Ekrana Ekle</strong> d\xfc\u011fmesine bas\u0131n.",uk_ua:"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0456\u0442\u044c \u0446\u0435\u0439 \u0432\u0435\u0431 \u0441\u0430\u0439\u0442 \u043d\u0430 \u0412\u0430\u0448 %device: \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c %icon, \u0430 \u043f\u043e\u0442\u0456\u043c <strong>\u041d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0439 \u0435\u043a\u0440\u0430\u043d</strong>.",zh_cn:"\u60a8\u53ef\u4ee5\u5c06\u6b64\u5e94\u7528\u7a0b\u5f0f\u5b89\u88c5\u5230\u60a8\u7684 %device \u4e0a\u3002\u8bf7\u6309 %icon \u7136\u540e\u70b9\u9009<strong>\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>\u3002",zh_tw:"\u60a8\u53ef\u4ee5\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u5b89\u88dd\u5230\u60a8\u7684 %device \u4e0a\u3002\u8acb\u6309 %icon \u7136\u5f8c\u9ede\u9078<strong>\u52a0\u5165\u4e3b\u756b\u9762\u87a2\u5e55</strong>\u3002"};return t(),{show:o,close:i,reset:c}}(window);